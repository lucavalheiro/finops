"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80360],{34135:function(t,e,n){n.d(e,{h:function(){return h},k:function(){return d}});var r=n(2784),i=n(84337),o=n(705),a=n(70049),s=n(67732);function c(t){var e=r.useRef();return e.current||(e.current={v:t()}),e.current.v}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},f=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function h(t,e){var n=c(function(){return"function"==typeof t?t():t}),r=e.context,a=e.guards,s=e.actions,l=e.activities,h=e.services,d=e.delays,v=(e.state,f(e,["context","guards","actions","activities","services","delays","state"])),p=c(function(){var t=n.withConfig({context:r,guards:a,actions:s,activities:l,services:h,delays:d},function(){return u(u({},n.context),r)});return(0,o.kJ)(t,v)});return(0,i.Z)(function(){Object.assign(p.machine.options.actions,s),Object.assign(p.machine.options.guards,a),Object.assign(p.machine.options.activities,l),Object.assign(p.machine.options.services,h),Object.assign(p.machine.options.delays,d)},[s,a,l,h,d]),p}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=l(e,2),c=i[0],u=void 0===c?{}:c,f=i[1],d=h(t,u);return(0,r.useEffect)(function(){if(f){var t=d.subscribe((0,a.zM)(f));return function(){t.unsubscribe()}}},[f]),(0,r.useEffect)(function(){var t=u.state;return d.start(t?s.ZM.create(t):void 0),function(){d.stop(),d.status=o.TM.NotStarted}},[]),d}},98079:function(t,e,n){n.d(e,{e:function(){return l}});var r=n(2784),i=n(41110),o=n(705),a=n(67732),s=n(34135),c=n(6392),u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function f(t){return t}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var l=u(e,1)[0],h=void 0===l?{}:l,d=(0,s.h)(t,h),v=(0,r.useCallback)(function(){return d.status===o.TM.NotStarted?h.state?a.ZM.create(h.state):d.machine.initialState:d.getSnapshot()},[d]),p=(0,r.useCallback)(function(t,e){return(0,c.AM)(d,t,e)},[d]),y=(0,r.useCallback)(function(t){return d.subscribe(t).unsubscribe},[d]),g=(0,i.useSyncExternalStoreWithSelector)(y,v,v,f,p);return(0,r.useEffect)(function(){var t=h.state;return d.start(t?a.ZM.create(t):void 0),function(){d.stop(),d.status=o.TM.NotStarted}},[]),[g,d.send,d]}},8535:function(t,e,n){n.d(e,{v:function(){return c}});var r=n(2784),i=n(41110);n(84337);var o=n(6392),a=function(t,e){return t===e},s=function(t,e){if((0,o.cs)(t)){if(0===t.status&&e.current)return e.current;var n,r=(0,o.Uz)(t);return e.current=0===t.status?r:null,r}return"state"in t?t.state:void 0};function c(t,e,n,o){void 0===n&&(n=a);var c=(0,r.useRef)(null),u=(0,r.useCallback)(function(e){return t.subscribe(e).unsubscribe},[t]),f=(0,r.useCallback)(function(){return o?o(t):s(t,c)},[t,o]);return(0,i.useSyncExternalStoreWithSelector)(u,f,f,e,n)}},6392:function(t,e,n){n.d(e,{AM:function(){return a},Uz:function(){return i},cs:function(){return o}});var r=n(705);function i(t){return 0!==t.status?t.getSnapshot():t.machine.initialState}function o(t){return"state"in t&&"machine"in t}function a(t,e,n){if(t.status===r.TM.NotStarted)return!0;var i=void 0===n.changed&&(Object.keys(n.children).length>0||"boolean"==typeof e.changed);return!(n.changed||i)}},22699:function(t){var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise(function(n,r){var i,o,a;function s(n){t.removeListener(e,c),r(n)}function c(){"function"==typeof t.removeListener&&t.removeListener("error",s),n([].slice.call(arguments))}p(t,e,c,{once:!0}),"error"!==e&&(i=t,o=s,a={once:!0},"function"==typeof i.on&&p(i,"error",o,a))})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,n,r){if(s(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(t))>0&&a.length>i&&!a.warned){a.warned=!0;var i,o,a,u,f=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=a.length,console&&console.warn&&console.warn(f)}return t}function f(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function h(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):v(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=Array(e),r=0;r<e;++r)n[r]=t[r];return n}function p(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else if("function"==typeof t.addEventListener)t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||i(t))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)r(c,this,e);else for(var u=c.length,f=v(c,u),n=0;n<u;++n)r(f[n],this,e);return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,l(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,l(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,a;if(s(e),void 0===(r=this._events)||void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return h(this,t,!0)},o.prototype.rawListeners=function(t){return h(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},84337:function(t,e,n){n.d(e,{Z:function(){return r}});var r=n(2784).useLayoutEffect},1458:function(t,e,n){/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var r=n(2784),i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch(r){return!0}}function f(t,e){return e()}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?f:function(t,e){var n=e(),r=o({inst:{value:n,getSnapshot:e}}),i=r[0].inst,f=r[1];return s(function(){i.value=n,i.getSnapshot=e,u(i)&&f({inst:i})},[t,n,e]),a(function(){return u(i)&&f({inst:i}),t(function(){u(i)&&f({inst:i})})},[t]),c(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},64141:function(t,e,n){/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var r=n(2784),i=n(43100),o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},a=i.useSyncExternalStore,s=r.useRef,c=r.useEffect,u=r.useMemo,f=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var l=s(null);if(null===l.current){var h={hasValue:!1,value:null};l.current=h}else h=l.current;var d=a(t,(l=u(function(){function t(t){if(!c){if(c=!0,a=t,t=r(t),void 0!==i&&h.hasValue){var e=h.value;if(i(e,t))return s=e}return s=t}if(e=s,o(a,t))return e;var n=r(t);return void 0!==i&&i(e,n)?(a=t,e):(a=t,s=n)}var a,s,c=!1,u=void 0===n?null:n;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]},[e,n,r,i]))[0],l[1]);return c(function(){h.hasValue=!0,h.value=d},[d]),f(d),d}},43100:function(t,e,n){t.exports=n(1458)},41110:function(t,e,n){t.exports=n(64141)},19140:function(t,e,n){n.d(e,{Xg:function(){return c},f3:function(){return u},mu:function(){return s},vk:function(){return f}});var r=n(70572),i=n(70049),o=n(80237);function a(t){var e;return(e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}})[i.L$]=function(){return this},e}function s(t,e,n,r){var o,s=(0,i.j)(t.src),u=null===(o=null==e?void 0:e.options.services)||void 0===o?void 0:o[s.type],f=t.data?(0,i.QX)(t.data,n,r):void 0,l=u?c(u,t.id,f):a(t.id);return l.meta=t,l}function c(t,e,n){var r=a(e);if(r.deferred=!0,(0,i.O4)(t)){var s=r.state=(0,o.J)(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return s}}return r}function u(t){return function(t){try{return"function"==typeof t.send}catch(e){return!1}}(t)&&"id"in t}function f(t){var e;return(0,r.pi)(((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[i.L$]=function(){return this},e),t)}},95957:function(t,e,n){n.d(e,{C:function(){return m}});var r=n(70572),i=n(70049),o=n(67732),a=n(20449),s=n(60081),c=n(49333),u=n(84766),f=n(88297),l=n(19140);function h(t){return(0,r.pi)((0,r.pi)({type:a.dw},t),{toJSON:function(){t.onDone,t.onError;var e=(0,r._T)(t,["onDone","onError"]);return(0,r.pi)((0,r.pi)({},e),{type:a.dw,src:function(t){if("string"==typeof t){var e={type:t};return e.toString=function(){return t},e}return t}(t.src)})}})}var d={},v=function(t){return"#"===t[0]},p=function(t,e,n){var r=n.slice(0,-1).some(function(t){return!("cond"in t)&&!("in"in t)&&((0,i.HD)(t.target)||(0,i.O4)(t.target))}),o=""===e?"the transient event":"event '".concat(e,"'");(0,i.ZK)(!r,"One or more transitions for ".concat(o," on state '").concat(t.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},y=function(){function t(e,n,o,a){void 0===o&&(o="context"in e?e.context:void 0);var l,v=this;this.config=e,this._context=o,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==a?void 0:a.parent,this.key=this.config.key||(null==a?void 0:a.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:u.iS),this.id=this.config.id||(0,r.ev)([this.machine.key],(0,r.CR)(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(l=this.config.schema)&&void 0!==l?l:{},this.description=this.config.description,c.M||(0,i.ZK)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?(0,i.Q8)(this.config.states,function(e,n){var i,o=new t(e,{},void 0,{parent:v,key:n});return Object.assign(v.idMap,(0,r.pi)(((i={})[o.id]=o,i),o.idMap)),o}):d;var p=0;!function t(e){var n,i;e.order=p++;try{for(var o=(0,r.XA)((0,f.nI)(e)),a=o.next();!a.done;a=o.next()){var s=a.value;t(s)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(t){return""===t.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=(0,i.qo)(this.config.entry||this.config.onEntry).map(function(t){return(0,s.Q8)(t)}),this.onExit=(0,i.qo)(this.config.exit||this.config.onExit).map(function(t){return(0,s.Q8)(t)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=(0,i.qo)(this.config.invoke).map(function(t,e){if((0,i.O4)(t)){var n,o,a=(0,i.bx)(v.id,e);return v.machine.options.services=(0,r.pi)(((n={})[a]=t,n),v.machine.options.services),h({src:a,id:a})}if((0,i.HD)(t.src)){var a=t.id||(0,i.bx)(v.id,e);return h((0,r.pi)((0,r.pi)({},t),{id:a,src:t.src}))}if((0,i.O4)(t.src)||(0,i.mf)(t.src)){var a=t.id||(0,i.bx)(v.id,e);return v.machine.options.services=(0,r.pi)(((o={})[a]=t.src,o),v.machine.options.services),h((0,r.pi)((0,r.pi)({id:a},t),{src:a}))}var s=t.src;return h((0,r.pi)((0,r.pi)({id:(0,i.bx)(v.id,e)},t),{src:s}))}),this.activities=(0,i.qo)(this.config.activities).concat(this.invoke).map(function(t){return(0,s.XA)(t)}),this.transition=this.transition.bind(this),this.tags=(0,i.qo)(this.config.tags)}return t.prototype._init=function(){!this.__cache.transitions&&(0,f.ac)(this).forEach(function(t){return t.on})},t.prototype.withConfig=function(e,n){var i=this.options,o=i.actions,a=i.activities,s=i.guards,c=i.services,u=i.delays;return new t(this.config,{actions:(0,r.pi)((0,r.pi)({},o),e.actions),activities:(0,r.pi)((0,r.pi)({},a),e.activities),guards:(0,r.pi)((0,r.pi)({},s),e.guards),services:(0,r.pi)((0,r.pi)({},c),e.services),delays:(0,r.pi)((0,r.pi)({},u),e.delays)},null!=n?n:this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return(0,i.mf)(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:(0,i.Q8)(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(t,e){return t[e.eventType]=t[e.eventType]||[],t[e.eventType].push(e),t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var e=""===t,n=this.transitions.filter(function(n){var r=n.eventType===t;return e?r:r||"*"===n.eventType});return this.__cache.candidates[t]=n,n},t.prototype.getDelayedTransitions=function(){var t=this,e=this.config.after;if(!e)return[];var n=function(e,n){var r=(0,i.mf)(e)?"".concat(t.id,":delay[").concat(n,"]"):e,o=(0,s.e4)(r,t.id);return t.onEntry.push((0,s.lW)(o,{delay:e})),t.onExit.push((0,s.al)(o)),o};return((0,i.kJ)(e)?e.map(function(t,e){var i=n(t.delay,e);return(0,r.pi)((0,r.pi)({},t),{event:i})}):(0,i.xH)(Object.keys(e).map(function(t,o){var a=e[t],s=(0,i.HD)(a)?{target:a}:a,c=isNaN(+t)?t:+t,u=n(c,o);return(0,i.qo)(s).map(function(t){return(0,r.pi)((0,r.pi)({},t),{event:u,delay:c})})}))).map(function(e){var n=e.delay;return(0,r.pi)((0,r.pi)({},t.formatTransition(e)),{delay:n})})},t.prototype.getStateNodes=function(t){var e,n=this;if(!t)return[];var a=t instanceof o.ZM?t.value:(0,i.WM)(t,this.delimiter);if((0,i.HD)(a)){var s=this.getStateNode(a).initial;return void 0!==s?this.getStateNodes(((e={})[a]=s,e)):[this,this.states[a]]}var c=Object.keys(a),u=[this];return u.push.apply(u,(0,r.ev)([],(0,r.CR)((0,i.xH)(c.map(function(t){return n.getStateNode(t).getStateNodes(a[t])}))),!1)),u},t.prototype.handles=function(t){var e=(0,i.x6)(t);return this.events.includes(e)},t.prototype.resolveState=function(t){var e=t instanceof o.ZM?t:o.ZM.create(t),n=Array.from((0,f.P_)([],this.getStateNodes(e.value)));return new o.ZM((0,r.pi)((0,r.pi)({},e),{value:this.resolve(e.value),configuration:n,done:(0,f.Ij)(n,this),tags:(0,f.Oe)(n),machine:this.machine}))},t.prototype.transitionLeafNode=function(t,e,n){var r=this.getStateNode(t).next(e,n);return r&&r.transitions.length?r:this.next(e,n)},t.prototype.transitionCompoundNode=function(t,e,n){var r=Object.keys(t),i=this.getStateNode(r[0])._transition(t[r[0]],e,n);return i&&i.transitions.length?i:this.next(e,n)},t.prototype.transitionParallelNode=function(t,e,n){var o,a,s={};try{for(var c=(0,r.XA)(Object.keys(t)),u=c.next();!u.done;u=c.next()){var f=u.value,l=t[f];if(l){var h=this.getStateNode(f)._transition(l,e,n);h&&(s[f]=h)}}}catch(d){o={error:d}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}var v=Object.keys(s).map(function(t){return s[t]}),p=(0,i.xH)(v.map(function(t){return t.transitions}));if(!v.some(function(t){return t.transitions.length>0}))return this.next(e,n);var y=(0,i.xH)(Object.keys(s).map(function(t){return s[t].configuration}));return{transitions:p,exitSet:(0,i.xH)(v.map(function(t){return t.exitSet})),configuration:y,source:e,actions:(0,i.xH)(Object.keys(s).map(function(t){return s[t].actions}))}},t.prototype._transition=function(t,e,n){return(0,i.HD)(t)?this.transitionLeafNode(t,e,n):1===Object.keys(t).length?this.transitionCompoundNode(t,e,n):this.transitionParallelNode(t,e,n)},t.prototype.getTransitionData=function(t,e){return this._transition(t.value,t,(0,i.g5)(e))},t.prototype.next=function(t,e){var n,o,a,s=this,c=e.name,u=[],f=[];try{for(var l=(0,r.XA)(this.getCandidates(c)),h=l.next();!h.done;h=l.next()){var d=h.value,p=d.cond,y=d.in,g=t.context,m=!y||((0,i.HD)(y)&&v(y)?t.matches((0,i.WM)(this.getStateNodeById(y).path,this.delimiter)):(0,i.W)((0,i.WM)(y,this.delimiter),(0,i.ET)(this.path.slice(0,-2))(t.value))),_=!1;try{_=!p||(0,i.vx)(this.machine,p,g,e,t)}catch(b){throw Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(c,"' in state node '").concat(this.id,"':\n").concat(b.message))}if(_&&m){void 0!==d.target&&(f=d.target),u.push.apply(u,(0,r.ev)([],(0,r.CR)(d.actions),!1)),a=d;break}}}catch(S){n={error:S}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}if(a){if(!f.length)return{transitions:[a],exitSet:[],configuration:t.value?[this]:[],source:t,actions:u};var x=(0,i.xH)(f.map(function(e){return s.getRelativeStateNodes(e,t.historyValue)})),w=!!a.internal;return{transitions:[a],exitSet:w?[]:(0,i.xH)(f.map(function(t){return s.getPotentiallyReenteringNodes(t)})),configuration:x,source:t,actions:u}}},t.prototype.getPotentiallyReenteringNodes=function(t){if(this.order<t.order)return[this];for(var e=[],n=this;n&&n!==t;)e.push(n),n=n.parent;return n!==t?[]:(e.push(t),e)},t.prototype.getActions=function(t,e,n,o,a,c,u){var l,h,d,v,p=this,y=c?(0,f.P_)([],this.getStateNodes(c.value)):[],g=new Set;try{for(var m=(0,r.XA)(Array.from(t).sort(function(t,e){return t.order-e.order})),_=m.next();!_.done;_=m.next()){var b=_.value;(!(0,f.e$)(y,b)||(0,f.e$)(n.exitSet,b)||b.parent&&g.has(b.parent))&&g.add(b)}}catch(S){l={error:S}}finally{try{_&&!_.done&&(h=m.return)&&h.call(m)}finally{if(l)throw l.error}}try{for(var x=(0,r.XA)(y),w=x.next();!w.done;w=x.next()){var b=w.value;(!(0,f.e$)(t,b)||(0,f.e$)(n.exitSet,b.parent))&&n.exitSet.push(b)}}catch(A){d={error:A}}finally{try{w&&!w.done&&(v=x.return)&&v.call(x)}finally{if(d)throw d.error}}n.exitSet.sort(function(t,e){return e.order-t.order});var E=Array.from(g).sort(function(t,e){return t.order-e.order}),O=new Set(n.exitSet),M=(0,i.xH)(E.map(function(t){var e=[];if("final"!==t.type)return e;var r=t.parent;if(!r.parent)return e;e.push((0,s.aT)(t.id,t.doneData),(0,s.aT)(r.id,t.doneData?(0,i.QX)(t.doneData,o,a):void 0));var c=r.parent;return"parallel"===c.type&&(0,f.G)(c).every(function(t){return(0,f.Ij)(n.configuration,t)})&&e.push((0,s.aT)(c.id)),e})),T=E.map(function(t){var e=t.onEntry,n=t.activities.map(function(t){return(0,s.BL)(t)});return{type:"entry",actions:(0,s.AE)(u?(0,r.ev)((0,r.ev)([],(0,r.CR)(e),!1),(0,r.CR)(n),!1):(0,r.ev)((0,r.ev)([],(0,r.CR)(n),!1),(0,r.CR)(e),!1),p.machine.options.actions)}}).concat({type:"state_done",actions:M.map(function(t){return(0,s.OU)(t)})}),k=Array.from(O).map(function(t){return{type:"exit",actions:(0,s.AE)((0,r.ev)((0,r.ev)([],(0,r.CR)(t.onExit),!1),(0,r.CR)(t.activities.map(function(t){return(0,s.sT)(t)})),!1),p.machine.options.actions)}}).concat({type:"transition",actions:(0,s.AE)(n.actions,this.machine.options.actions)}).concat(T);if(e){var j=(0,s.AE)((0,i.xH)((0,r.ev)([],(0,r.CR)(t),!1).sort(function(t,e){return e.order-t.order}).map(function(t){return t.onExit})),this.machine.options.actions).filter(function(t){return!(0,i.vK)(t)});return k.concat({type:"stop",actions:j})}return k},t.prototype.transition=function(t,e,n,a){void 0===t&&(t=this.initialState);var s,u=(0,i.g5)(e);if(t instanceof o.ZM)s=void 0===n?t:this.resolveState(o.ZM.from(t,n));else{var l=(0,i.HD)(t)?this.resolve((0,i.on)(this.getResolvedPath(t))):this.resolve(t),h=null!=n?n:this.machine.context;s=this.resolveState(o.ZM.from(l,h))}if(!c.M&&"*"===u.name)throw Error("An event cannot have the wildcard type ('".concat("*","')"));if(this.strict&&!this.events.includes(u.name)&&!(0,i.JQ)(u.name))throw Error("Machine '".concat(this.id,"' does not accept event '").concat(u.name,"'"));var d=this._transition(s.value,s,u)||{transitions:[],configuration:[],exitSet:[],source:s,actions:[]},v=(0,f.P_)([],this.getStateNodes(s.value)),p=d.configuration.length?(0,f.P_)(v,d.configuration):v;return d.configuration=(0,r.ev)([],(0,r.CR)(p),!1),this.resolveTransition(d,s,s.context,a,u)},t.prototype.resolveRaisedTransition=function(t,e,n,i){var o,a=t.actions;return(t=this.transition(t,e,void 0,i))._event=n,t.event=n.data,(o=t.actions).unshift.apply(o,(0,r.ev)([],(0,r.CR)(a),!1)),t},t.prototype.resolveTransition=function(t,e,n,c,u){var h,d,v,p,y=this;void 0===u&&(u=s.bf);var g=t.configuration,m=!e||t.transitions.length>0,_=m?t.configuration:e?e.configuration:[],b=(0,f.Ij)(_,this),S=m?(0,f.NA)(this.machine,g):void 0,x=e?e.historyValue?e.historyValue:t.source?this.machine.historyValue(e.value):void 0:void 0,w=this.getActions(new Set(_),b,t,n,u,e,c),A=e?(0,r.pi)({},e.activities):{};try{for(var E=(0,r.XA)(w),O=E.next();!O.done;O=E.next()){var M=O.value;try{for(var T=(v=void 0,(0,r.XA)(M.actions)),k=T.next();!k.done;k=T.next()){var j=k.value;j.type===a.BL?A[j.activity.id||j.activity.type]=j:j.type===a.sT&&(A[j.activity.id||j.activity.type]=!1)}}catch(N){v={error:N}}finally{try{k&&!k.done&&(p=T.return)&&p.call(T)}finally{if(v)throw v.error}}}}catch(C){h={error:C}}finally{try{O&&!O.done&&(d=E.return)&&d.call(E)}finally{if(h)throw h.error}}var P=(0,r.CR)((0,s.yC)(this,e,n,u,w,c,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),R=P[0],I=P[1],L=(0,r.CR)((0,i.uK)(R,i.vK),2),D=L[0],V=L[1],H=R.filter(function(t){var e;return t.type===a.BL&&(null===(e=t.activity)||void 0===e?void 0:e.type)===a.dw}).reduce(function(t,e){return t[e.activity.id]=(0,l.mu)(e.activity,y.machine,I,u),t},e?(0,r.pi)({},e.children):{}),F=new o.ZM({value:S||e.value,context:I,_event:u,_sessionid:e?e._sessionid:null,historyValue:S?x?(0,i.yv)(x,S):void 0:e?e.historyValue:void 0,history:!S||t.source?e:void 0,actions:S?V:[],activities:S?A:e?e.activities:{},events:[],configuration:_,transitions:t.transitions,children:H,done:b,tags:(0,f.Oe)(_),machine:this}),U=n!==I;F.changed=u.name===a.Vx||U;var Z=F.history;Z&&delete Z.history;var X=!b&&(this._transient||g.some(function(t){return t._transient}));if(!m&&(!X||""===u.name))return F;var z=F;if(!b)for(X&&(z=this.resolveRaisedTransition(z,{type:a.IA},u,c));D.length;){var $=D.shift();z=this.resolveRaisedTransition(z,$._event,u,c)}var q=z.changed||(Z?!!z.actions.length||U||typeof Z.value!=typeof z.value||!(0,o.j_)(z.value,Z.value):void 0);return z.changed=q,z.history=Z,z},t.prototype.getStateNode=function(t){if(v(t))return this.machine.getStateNodeById(t);if(!this.states)throw Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var e=this.states[t];if(!e)throw Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return e},t.prototype.getStateNodeById=function(t){var e=v(t)?t.slice(1):t;if(e===this.id)return this;var n=this.machine.idMap[e];if(!n)throw Error("Child state node '#".concat(e,"' does not exist on machine '").concat(this.id,"'"));return n},t.prototype.getStateNodeByPath=function(t){if("string"==typeof t&&v(t))try{return this.getStateNodeById(t.slice(1))}catch(e){}for(var n=(0,i.Q9)(t,this.delimiter).slice(),r=this;n.length;){var o=n.shift();if(!o.length)break;r=r.getStateNode(o)}return r},t.prototype.resolve=function(t){var e,n=this;if(!t)return this.initialStateValue||d;switch(this.type){case"parallel":return(0,i.Q8)(this.initialStateValue,function(e,r){return e?n.getStateNode(r).resolve(t[r]||e):d});case"compound":if((0,i.HD)(t)){var r=this.getStateNode(t);if("parallel"===r.type||"compound"===r.type)return(e={})[t]=r.initialStateValue,e;return t}if(!Object.keys(t).length)return this.initialStateValue||{};return(0,i.Q8)(t,function(t,e){return t?n.getStateNode(e).resolve(t):d});default:return t||d}},t.prototype.getResolvedPath=function(t){if(v(t)){var e=this.machine.idMap[t.slice(1)];if(!e)throw Error("Unable to find state node '".concat(t,"'"));return e.path}return(0,i.Q9)(t,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var t,e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)e=(0,i.ib)(this.states,function(t){return t.initialStateValue||d},function(t){return"history"!==t.type});else if(void 0!==this.initial){if(!this.states[this.initial])throw Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));e=(0,f.N9)(this.states[this.initial])?this.initial:((t={})[this.initial]=this.states[this.initial].initialStateValue,t)}else e={};return this.__cache.initialStateValue=e,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(t,e){this._init();var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=e?e:this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;if("history"===this.type){var e=this.config;t=(0,i.HD)(e.target)&&v(e.target)?(0,i.on)(this.machine.getStateNodeById(e.target).path.slice(this.path.length-1)):e.target}return t},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(t,e,n){return void 0===n&&(n=!0),n?"history"===t.type?t.resolveHistory(e):t.initialStateNodes:[t]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var t=this;if((0,f.N9)(this))return[this];if("compound"===this.type&&!this.initial)return c.M||(0,i.ZK)(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var e=(0,i.SA)(this.initialStateValue);return(0,i.xH)(e.map(function(e){return t.getFromRelativePath(e)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var e=(0,r.CR)(t),n=e[0],i=e.slice(1);if(!this.states)throw Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var o=this.getStateNode(n);if("history"===o.type)return o.resolveHistory();if(!this.states[n])throw Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(i)},t.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:(0,i.ib)(this.states,function(e,n){if(!t)return e.historyValue();var r=(0,i.HD)(t)?void 0:t[n];return e.historyValue(r||e.initialStateValue)},function(t){return!t.history})}},t.prototype.resolveHistory=function(t){var e=this;if("history"!==this.type)return[this];var n=this.parent;if(!t){var r=this.target;return r?(0,i.xH)((0,i.SA)(r).map(function(t){return n.getFromRelativePath(t)})):n.initialStateNodes}var o=(0,i.gk)(n.path,"states")(t).current;return(0,i.HD)(o)?[n.getStateNode(o)]:(0,i.xH)((0,i.SA)(o).map(function(t){return"deep"===e.history?n.getFromRelativePath(t):[n.states[t[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var t=this;return[this.id].concat((0,i.xH)(Object.keys(this.states).map(function(e){return t.states[e].stateIds})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){if(this.__cache.events)return this.__cache.events;var t,e,n,i,o=this.states,a=new Set(this.ownEvents);if(o)try{for(var s=(0,r.XA)(Object.keys(o)),c=s.next();!c.done;c=s.next()){var u=o[c.value];if(u.states)try{for(var f=(n=void 0,(0,r.XA)(u.events)),l=f.next();!l.done;l=f.next()){var h=l.value;a.add("".concat(h))}}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}}catch(v){t={error:v}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){return Array.from(new Set(this.transitions.filter(function(t){return!(!t.target&&!t.actions.length&&t.internal)}).map(function(t){return t.eventType})))},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(t){var e=this;if(void 0!==t)return t.map(function(t){if(!(0,i.HD)(t))return t;var n=t[0]===e.delimiter;if(n&&!e.parent)return e.getStateNodeByPath(t.slice(1));var r=n?e.key+t:t;if(!e.parent)return e.getStateNodeByPath(r);try{return e.parent.getStateNodeByPath(r)}catch(o){throw Error("Invalid transition definition for state node '".concat(e.id,"':\n").concat(o.message))}})},t.prototype.formatTransition=function(t){var e=this,n=(0,i.rg)(t.target),o="internal"in t?t.internal:!n||n.some(function(t){return(0,i.HD)(t)&&t[0]===e.delimiter}),a=this.machine.options.guards,c=this.resolveTarget(n),u=(0,r.pi)((0,r.pi)({},t),{actions:(0,s.AE)((0,i.qo)(t.actions)),cond:(0,i.Qi)(t.cond,a),target:c,source:this,internal:o,eventType:t.event,toJSON:function(){return(0,r.pi)((0,r.pi)({},u),{target:u.target?u.target.map(function(t){return"#".concat(t.id)}):void 0,source:"#".concat(e.id)})}});return u},t.prototype.formatTransitions=function(){var t,e,n,o=this;if(this.config.on){if(Array.isArray(this.config.on))n=this.config.on;else{var a=this.config.on,u=a["*"],f=(0,r._T)(a,["*"]);n=(0,i.xH)(Object.keys(f).map(function(t){c.M||""!==t||(0,i.ZK)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(o.id,'".'));var e=(0,i.jh)(t,f[t]);return c.M||p(o,t,e),e}).concat((0,i.jh)("*",void 0===u?[]:u)))}}else n=[];var l=this.config.always?(0,i.jh)("",this.config.always):[],h=this.config.onDone?(0,i.jh)(String((0,s.aT)(this.id)),this.config.onDone):[];c.M||(0,i.ZK)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var d=(0,i.xH)(this.invoke.map(function(t){var e=[];return t.onDone&&e.push.apply(e,(0,r.ev)([],(0,r.CR)((0,i.jh)(String((0,s.Sl)(t.id)),t.onDone)),!1)),t.onError&&e.push.apply(e,(0,r.ev)([],(0,r.CR)((0,i.jh)(String((0,s.vU)(t.id)),t.onError)),!1)),e})),v=this.after,y=(0,i.xH)((0,r.ev)((0,r.ev)((0,r.ev)((0,r.ev)([],(0,r.CR)(h),!1),(0,r.CR)(d),!1),(0,r.CR)(n),!1),(0,r.CR)(l),!1).map(function(t){return(0,i.qo)(t).map(function(t){return o.formatTransition(t)})}));try{for(var g=(0,r.XA)(v),m=g.next();!m.done;m=g.next()){var _=m.value;y.push(_)}}catch(b){t={error:b}}finally{try{m&&!m.done&&(e=g.return)&&e.call(g)}finally{if(t)throw t.error}}return y},t}(),g=!1;function m(t,e){return c.M||"predictableActionArguments"in t||g||(g=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new y(t,e)}},67732:function(t,e,n){n.d(e,{TL:function(){return u},ZM:function(){return l},j1:function(){return f},j_:function(){return function t(e,n){if(e===n)return!0;if(void 0===e||void 0===n)return!1;if((0,o.HD)(e)||(0,o.HD)(n))return e===n;var r=Object.keys(e),i=Object.keys(n);return r.length===i.length&&r.every(function(r){return t(e[r],n[r])})}}});var r=n(70572),i=n(84766),o=n(70049),a=n(88297),s=n(60081),c=n(49333);function u(t){return"object"==typeof t&&null!==t&&"value"in t&&"_event"in t}function f(t,e){var n=t.exec;return(0,r.pi)((0,r.pi)({},t),{exec:void 0!==n?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0})}var l=function(){function t(t){var e,n=this;this.actions=[],this.activities=i.qP,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||i.qP,this.meta=(0,a.xZ)(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=null!==(e=Array.isArray(t.tags)?new Set(t.tags):t.tags)&&void 0!==e?e:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return(0,a.nJ)(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var r=s.bf;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=s.bf;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(t,e){var n=this;if(void 0===t&&(t=this.value),void 0===e&&(e="."),(0,o.HD)(t))return[t];var i=Object.keys(t);return i.concat.apply(i,(0,r.ev)([],(0,r.CR)(i.map(function(r){return n.toStrings(t[r],e).map(function(t){return r+e+t})})),!1))},t.prototype.toJSON=function(){this.configuration,this.transitions;var t=this.tags;this.machine;var e=(0,r._T)(this,["configuration","transitions","tags","machine"]);return(0,r.pi)((0,r.pi)({},e),{tags:Array.from(t)})},t.prototype.matches=function(t){return(0,o.W)(t,this.value)},t.prototype.hasTag=function(t){return this.tags.has(t)},t.prototype.can=function(t){c.M&&(0,o.ZK)(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var e,n=null===(e=this.machine)||void 0===e?void 0:e.getTransitionData(this,t);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some(function(t){return void 0!==t.target||t.actions.length})},t}()},70572:function(t,e,n){n.d(e,{CR:function(){return a},XA:function(){return o},_T:function(){return i},ev:function(){return s},pi:function(){return r}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},20449:function(t,e,n){n.d(e,{BL:function(){return i},IA:function(){return u},Le:function(){return m},Mg:function(){return v},OU:function(){return a},RN:function(){return g},S1:function(){return h},Vx:function(){return y},al:function(){return c},cM:function(){return l},dw:function(){return d},f0:function(){return f},lW:function(){return s},sT:function(){return o},vU:function(){return p}});var r=n(3763),i=r.M.Start,o=r.M.Stop,a=r.M.Raise,s=r.M.Send,c=r.M.Cancel,u=r.M.NullEvent,f=r.M.Assign;r.M.After,r.M.DoneState;var l=r.M.Log,h=r.M.Init,d=r.M.Invoke;r.M.ErrorExecution;var v=r.M.ErrorPlatform,p=r.M.ErrorCustom,y=r.M.Update,g=r.M.Choose,m=r.M.Pure},60081:function(t,e,n){n.d(e,{AE:function(){return l},BL:function(){return x},Le:function(){return k},OU:function(){return d},Q8:function(){return f},RN:function(){return N},Sl:function(){return M},Tn:function(){return j},XA:function(){return h},aT:function(){return O},al:function(){return S},bf:function(){return c},cM:function(){return _},e4:function(){return E},f0:function(){return A},kM:function(){return y},lW:function(){return v},lj:function(){return p},o$:function(){return u},sT:function(){return w},vU:function(){return T},xc:function(){return g},yC:function(){return function t(e,n,c,u,h,d,v){void 0===v&&(v=!1);var p=v?[]:C(h),y=p.length?(0,a.dt)(c,u,p,n):c,g=v?[c]:void 0,m=[];function _(h,p){var _;switch(p.type){case o.OU:var S=function(t,e,n,i){var s,c={_event:n},u=(0,a.g5)((0,a.mf)(t.event)?t.event(e,n.data,c):t.event);if((0,a.HD)(t.delay)){var f=i&&i[t.delay];s=(0,a.mf)(f)?f(e,n.data,c):f}else s=(0,a.mf)(t.delay)?t.delay(e,n.data,c):t.delay;return(0,r.pi)((0,r.pi)({},t),{type:o.OU,_event:u,delay:s})}(p,y,u,e.options.delays);return d&&"number"==typeof S.delay&&d(S,y,u),S;case o.lW:var x=function(t,e,n,i){var o,s={_event:n},c=(0,a.g5)((0,a.mf)(t.event)?t.event(e,n.data,s):t.event);if((0,a.HD)(t.delay)){var u=i&&i[t.delay];o=(0,a.mf)(u)?u(e,n.data,s):u}else o=(0,a.mf)(t.delay)?t.delay(e,n.data,s):t.delay;var f=(0,a.mf)(t.to)?t.to(e,n.data,s):t.to;return(0,r.pi)((0,r.pi)({},t),{to:f,_event:c,event:c.data,delay:o})}(p,y,u,e.options.delays);if(!s.M){var w=p.delay;(0,a.ZK)(!(0,a.HD)(w)||"number"==typeof x.delay,"No delay reference for delay expression '".concat(w,"' was found on machine '").concat(e.id,"'"))}return d&&x.to!==i.K.Internal&&("entry"===h?m.push(x):d(x,y,u)),x;case o.cM:var A=b(p,y,u);return null==d||d(A,y,u),A;case o.RN:var E=null===(_=p.conds.find(function(t){var r=(0,a.Qi)(t.cond,e.options.guards);return!r||(0,a.vx)(e,r,y,u,d?void 0:n)}))||void 0===_?void 0:_.actions;if(!E)return[];var O=(0,r.CR)(t(e,n,y,u,[{type:h,actions:l((0,a.qo)(E),e.options.actions)}],d,v),2),M=O[0];return y=O[1],null==g||g.push(y),M;case o.Le:var E=p.get(y,u.data);if(!E)return[];var T=(0,r.CR)(t(e,n,y,u,[{type:h,actions:l((0,a.qo)(E),e.options.actions)}],d,v),2),k=T[0];return y=T[1],null==g||g.push(y),k;case o.sT:var j,N,C,P,A=(N=y,P=(0,a.mf)(p.activity)?p.activity(N,u.data):p.activity,{type:i.M.Stop,activity:"string"==typeof P?{id:P}:P});return null==d||d(A,c,u),A;case o.f0:y=(0,a.dt)(y,u,[p],d?void 0:n),null==g||g.push(y);break;default:var R=f(p,e.options.actions),I=R.exec;if(d)d(R,y,u);else if(I&&g){var L=g.length-1;R=(0,r.pi)((0,r.pi)({},R),{exec:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];I.apply(void 0,(0,r.ev)([g[L]],(0,r.CR)(e),!1))}})}return R}}return[(0,a.xH)(h.map(function(t){var e,n,i=[];try{for(var o=(0,r.XA)(t.actions),a=o.next();!a.done;a=o.next()){var s=a.value,c=_(t.type,s);c&&(i=i.concat(c))}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return m.forEach(function(t){d(t,y,u)}),m.length=0,i})),y]}}});var r=n(70572),i=n(3763),o=n(20449),a=n(70049),s=n(49333),c=(0,a.g5)({type:o.S1});function u(t,e){return e&&e[t]||void 0}function f(t,e){var n;if((0,a.HD)(t)||"number"==typeof t){var i=u(t,e);n=(0,a.mf)(i)?{type:t,exec:i}:i||{type:t,exec:void 0}}else if((0,a.mf)(t))n={type:t.name||t.toString(),exec:t};else{var i=u(t.type,e);if((0,a.mf)(i))n=(0,r.pi)((0,r.pi)({},t),{exec:i});else if(i){var o=i.type||t.type;n=(0,r.pi)((0,r.pi)((0,r.pi)({},i),t),{type:o})}else n=t}return n}var l=function(t,e){return t?((0,a.kJ)(t)?t:[t]).map(function(t){return f(t,e)}):[]};function h(t){var e=f(t);return(0,r.pi)((0,r.pi)({id:(0,a.HD)(t)?t:e.id},e),{type:e.type})}function d(t,e){return{type:o.OU,event:"function"==typeof t?t:(0,a._v)(t),delay:e?e.delay:void 0,id:null==e?void 0:e.id}}function v(t,e){return{to:e?e.to:void 0,type:o.lW,event:(0,a.mf)(t)?t:(0,a._v)(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:(0,a.mf)(t)?t.name:(0,a.x6)(t)}}function p(t,e){return v(t,(0,r.pi)((0,r.pi)({},e),{to:i.K.Parent}))}function y(t,e,n){return v(e,(0,r.pi)((0,r.pi)({},n),{to:t}))}function g(){return p(o.Vx)}var m=function(t,e){return{context:t,event:e}};function _(t,e){return void 0===t&&(t=m),{type:o.cM,label:e,expr:t}}var b=function(t,e,n){return(0,r.pi)((0,r.pi)({},t),{value:(0,a.HD)(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},S=function(t){return{type:o.al,sendId:t}};function x(t){var e=h(t);return{type:i.M.Start,activity:e,exec:void 0}}function w(t){var e=(0,a.mf)(t)?t:h(t);return{type:i.M.Stop,activity:e,exec:void 0}}var A=function(t){return{type:o.f0,assignment:t}};function E(t,e){var n=e?"#".concat(e):"";return"".concat(i.M.After,"(").concat(t,")").concat(n)}function O(t,e){var n="".concat(i.M.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function M(t,e){var n="".concat(i.M.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function T(t,e){var n="".concat(i.M.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function k(t){return{type:i.M.Pure,get:t}}function j(t,e){if(!s.M&&(!t||"function"==typeof t)){var n=t;t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i="function"==typeof n?n.apply(void 0,(0,r.ev)([],(0,r.CR)(t),!1)):n;if(!i)throw Error("Attempted to forward event to undefined actor. This risks an infinite loop in the sender.");return i}}return v(function(t,e){return e},(0,r.pi)((0,r.pi)({},e),{to:t}))}function N(t){return{type:i.M.Choose,conds:t}}var C=function(t){var e,n,i=[];try{for(var a=(0,r.XA)(t),s=a.next();!s.done;s=a.next())for(var c=s.value,u=0;u<c.actions.length;){if(c.actions[u].type===o.f0){i.push(c.actions[u]),c.actions.splice(u,1);continue}u++}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i}},84766:function(t,e,n){n.d(e,{TV:function(){return o},iS:function(){return r},qP:function(){return i},rt:function(){return a}});var r=".",i={},o="xstate.guard",a=""},49333:function(t,e,n){n.d(e,{M:function(){return r}});var r=!0},97386:function(t,e,n){n.d(e,{f0:function(){return i}});var r=n(60081),i=r.f0;r.al,r.lW,r.kM,r.lj,r.xc,r.Tn,r.Sl,r.OU,r.cM,r.Le,r.RN,r.sT},705:function(t,e,n){n.d(e,{TM:function(){return r},kJ:function(){return x}});var r,i=n(70572),o=n(3763),a=n(67732),s=n(20449),c=n(60081),u=n(49333),f=n(70049),l={deferEvents:!1},h=function(){function t(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=(0,i.pi)((0,i.pi)({},l),t)}return t.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},t.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(0!==this.queue.length)throw Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},t.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},t}(),d=n(19140),v=new Map,p=0,y={bookId:function(){return"x:".concat(p++)},register:function(t,e){return v.set(t,e),t},get:function(t){return v.get(t)},free:function(t){v.delete(t)}};function g(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void(u.M||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}var m,_=n(80237),b={sync:!1,autoForward:!1};(m=r||(r={}))[m.NotStarted=0]="NotStarted",m[m.Running=1]="Running",m[m.Stopped=2]="Stopped";var S=function(){function t(e,n){void 0===n&&(n=t.defaultOptions);var a=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=r.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(t,e){if((0,f.kJ)(t))return a.batch(t),a.state;var n=(0,f.g5)((0,f._v)(t,e));if(a.status===r.Stopped)return u.M||(0,f.ZK)(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(a.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),a.state;if(a.status!==r.Running&&!a.options.deferEvents)throw Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(a.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return a.scheduler.schedule(function(){a.forward(n);var t=a._nextState(n);a.update(t,n)}),a._state},this.sendTo=function(t,e,n){var l=a.parent&&(e===o.K.Parent||a.parent.id===e),h=l?a.parent:(0,f.HD)(e)?e===o.K.Internal?a:a.children.get(e)||y.get(e):(0,f.Bc)(e)?e:void 0;if(!h){if(!l)throw Error("Unable to send event to child '".concat(e,"' from service '").concat(a.id,"'."));u.M||(0,f.ZK)(!1,"Service '".concat(a.id,"' has no parent: unable to send event ").concat(t.type));return}if("machine"in h){if(a.status!==r.Stopped||a.parent!==h||a.state.done){var d=(0,i.pi)((0,i.pi)({},t),{name:t.name===s.vU?"".concat((0,c.vU)(a.id)):t.name,origin:a.sessionId});!n&&a.machine.config.predictableActionArguments?a._outgoingQueue.push([h,d]):h.send(d)}}else!n&&a.machine.config.predictableActionArguments?a._outgoingQueue.push([h,t.data]):h.send(t.data)},this._exec=function(t,e,n,i){void 0===i&&(i=a.machine.options.actions);var l=t.exec||(0,c.o$)(t.type,i),h=(0,f.mf)(l)?l:l?l.exec:t.exec;if(h)try{return h(e,n.data,a.machine.config.predictableActionArguments?{action:t,_event:n}:{action:t,state:a.state,_event:n})}catch(d){throw a.parent&&a.parent.send({type:"xstate.error",data:d}),d}switch(t.type){case s.OU:a.defer(t);break;case s.lW:if("number"==typeof t.delay){a.defer(t);return}t.to?a.sendTo(t._event,t.to,n===c.bf):a.send(t._event);break;case s.al:a.cancel(t.sendId);break;case s.BL:if(a.status!==r.Running)return;var v=t.activity;if(!a.machine.config.predictableActionArguments&&!a.state.activities[v.id||v.type])break;if(v.type===o.M.Invoke){var p=(0,f.j)(v.src),y=a.machine.options.services?a.machine.options.services[p.type]:void 0,g=v.id,m=v.data;u.M||(0,f.ZK)(!("forward"in v),"`forward` property is deprecated (found in invocation of '".concat(v.src,"' in in machine '").concat(a.machine.id,"'). ")+"Please use `autoForward` instead.");var _="autoForward"in v?v.autoForward:!!v.forward;if(!y){u.M||(0,f.ZK)(!1,"No service found for invocation '".concat(v.src,"' in machine '").concat(a.machine.id,"'."));return}var b=m?(0,f.QX)(m,e,n):void 0;if("string"==typeof y)return;var S=(0,f.mf)(y)?y(e,n.data,{data:b,src:p,meta:v.meta}):y;if(!S)return;var x=void 0;(0,f.O4)(S)&&(S=b?S.withContext(b):S,x={autoForward:_}),a.spawn(S,g,x)}else a.spawnActivity(v);break;case s.sT:a.stopChild(t.activity.id);break;case s.cM:var w=t.label,A=t.value;w?a.logger(w,A):a.logger(A);break;default:u.M||(0,f.ZK)(!1,"No implementation found for action type '".concat(t.type,"'"))}};var l=(0,i.pi)((0,i.pi)({},t.defaultOptions),n),d=l.clock,v=l.logger,p=l.parent,g=l.id,m=void 0!==g?g:e.id;this.id=m,this.logger=v,this.clock=d,this.parent=p,this.options=l,this.scheduler=new h({deferEvents:this.options.deferEvents}),this.sessionId=y.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:(0,_.J)(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return u.M||(0,f.ZK)(this.status!==r.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(t,e){var n,r;try{for(var o=(0,i.XA)(t.actions),a=o.next();!a.done;a=o.next()){var s=a.value;this.exec(s,t,e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.update=function(t,e){var n,r,o,a,s,u,l,h,d=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||e===c.bf)&&this.options.execute)this.execute(this.state);else for(var v=void 0;v=this._outgoingQueue.shift();)v[0].send(v[1]);if(this.children.forEach(function(t){d.state.children[t.id]=t}),this.devTools&&this.devTools.send(e.data,t),t.event)try{for(var p=(0,i.XA)(this.eventListeners),g=p.next();!g.done;g=p.next()){var m=g.value;m(t.event)}}catch(_){n={error:_}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var b=(0,i.XA)(this.listeners),S=b.next();!S.done;S=b.next()){var m=S.value;m(t,t.event)}}catch(x){o={error:x}}finally{try{S&&!S.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}try{for(var w=(0,i.XA)(this.contextListeners),A=w.next();!A.done;A=w.next())(0,A.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(E){s={error:E}}finally{try{A&&!A.done&&(u=w.return)&&u.call(w)}finally{if(s)throw s.error}}if(this.state.done){var O=t.configuration.find(function(t){return"final"===t.type&&t.parent===d.machine}),M=O&&O.doneData?(0,f.QX)(O.doneData,t.context,e):void 0;this._doneEvent=(0,c.Sl)(this.id,M);try{for(var T=(0,i.XA)(this.doneListeners),k=T.next();!k.done;k=T.next()){var m=k.value;m(this._doneEvent)}}catch(j){l={error:j}}finally{try{k&&!k.done&&(h=T.return)&&h.call(T)}finally{if(l)throw l.error}}this._stop(),this._stopChildren(),y.free(this.sessionId)}},t.prototype.onTransition=function(t){return this.listeners.add(t),this.status===r.Running&&t(this.state,this.state.event),this},t.prototype.subscribe=function(t,e,n){var i=this,o=(0,f.zM)(t,e,n);this.listeners.add(o.next),this.status!==r.NotStarted&&o.next(this.state);var a=function(){i.doneListeners.delete(a),i.stopListeners.delete(a),o.complete()};return this.status===r.Stopped?o.complete():(this.onDone(a),this.onStop(a)),{unsubscribe:function(){i.listeners.delete(o.next),i.doneListeners.delete(a),i.stopListeners.delete(a)}}},t.prototype.onEvent=function(t){return this.eventListeners.add(t),this},t.prototype.onSend=function(t){return this.sendListeners.add(t),this},t.prototype.onChange=function(t){return this.contextListeners.add(t),this},t.prototype.onStop=function(t){return this.stopListeners.add(t),this},t.prototype.onDone=function(t){return this.status===r.Stopped&&this._doneEvent?t(this._doneEvent):this.doneListeners.add(t),this},t.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},t.prototype.start=function(t){var e=this;if(this.status===r.Running)return this;this.machine._init(),y.register(this.sessionId,this),this.initialized=!0,this.status=r.Running;var n=void 0===t?this.initialState:(0,_.J)(this,function(){return(0,a.TL)(t)?e.machine.resolveState(t):e.machine.resolveState(a.ZM.from(t,e.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){e.update(n,c.bf)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(t){(0,f.mf)(t.stop)&&t.stop()}),this.children.clear()},t.prototype._stop=function(){var t,e,n,o,a,s,c,u,f,l;try{for(var d=(0,i.XA)(this.listeners),v=d.next();!v.done;v=d.next()){var p=v.value;this.listeners.delete(p)}}catch(y){t={error:y}}finally{try{v&&!v.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}try{for(var g=(0,i.XA)(this.stopListeners),m=g.next();!m.done;m=g.next()){var p=m.value;p(),this.stopListeners.delete(p)}}catch(_){n={error:_}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}try{for(var b=(0,i.XA)(this.contextListeners),S=b.next();!S.done;S=b.next()){var p=S.value;this.contextListeners.delete(p)}}catch(x){a={error:x}}finally{try{S&&!S.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}try{for(var w=(0,i.XA)(this.doneListeners),A=w.next();!A.done;A=w.next()){var p=A.value;this.doneListeners.delete(p)}}catch(E){c={error:E}}finally{try{A&&!A.done&&(u=w.return)&&u.call(w)}finally{if(c)throw c.error}}if(!this.initialized)return this;this.initialized=!1,this.status=r.Stopped,this._initialState=void 0;try{for(var O=(0,i.XA)(Object.keys(this.delayedEventsMap)),M=O.next();!M.done;M=O.next()){var T=M.value;this.clock.clearTimeout(this.delayedEventsMap[T])}}catch(k){f={error:k}}finally{try{M&&!M.done&&(l=O.return)&&l.call(O)}finally{if(f)throw f.error}}this.scheduler.clear(),this.scheduler=new h({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var t=this,e=this.scheduler;return this._stop(),e.schedule(function(){if(null===(e=t._state)||void 0===e||!e.done){var e,n=(0,f.g5)({type:"xstate.stop"}),r=(0,_.J)(t,function(){var e=(0,f.xH)((0,i.ev)([],(0,i.CR)(t.state.configuration),!1).sort(function(t,e){return e.order-t.order}).map(function(e){return(0,c.AE)(e.onExit,t.machine.options.actions)})),r=(0,i.CR)((0,c.yC)(t.machine,t.state,t.state.context,n,[{type:"exit",actions:e}],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),o=r[0],s=r[1],u=new a.ZM({value:t.state.value,context:s,_event:n,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:o.filter(function(t){return!(0,f.vK)(t)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return u.changed=!0,u});t.update(r,n),t._stopChildren(),y.free(t.sessionId)}}),this},t.prototype.batch=function(t){var e=this;if(this.status===r.NotStarted&&this.options.deferEvents)u.M||(0,f.ZK)(!1,"".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==r.Running)throw Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(t.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var r,o,s=e.state,c=!1,u=[];try{for(var l=(0,i.XA)(t),h=l.next();!h.done;h=l.next()){var d=h.value;!function(t){var r=(0,f.g5)(t);e.forward(r),s=(0,_.J)(e,function(){return e.machine.transition(s,r,void 0,n||void 0)}),u.push.apply(u,(0,i.ev)([],(0,i.CR)(e.machine.config.predictableActionArguments?s.actions:s.actions.map(function(t){return(0,a.j1)(t,s)})),!1)),c=c||!!s.changed}(d)}}catch(v){r={error:v}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}s.changed=c,s.actions=u,e.update(s,(0,f.g5)(t[t.length-1]))})}},t.prototype.sender=function(t){return this.send.bind(this,t)},t.prototype._nextState=function(t,e){var n=this;void 0===e&&(e=!!this.machine.config.predictableActionArguments&&this._exec);var r=(0,f.g5)(t);if(0===r.name.indexOf(s.Mg)&&!this.state.nextEvents.some(function(t){return 0===t.indexOf(s.Mg)}))throw r.data.data;return(0,_.J)(this,function(){return n.machine.transition(n.state,r,void 0,e||void 0)})},t.prototype.nextState=function(t){return this._nextState(t,!1)},t.prototype.forward=function(t){var e,n;try{for(var r=(0,i.XA)(this.forwardTo),o=r.next();!o.done;o=r.next()){var a=o.value,s=this.children.get(a);if(!s)throw Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(a,"'."));s.send(t)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.defer=function(t){var e=this,n=this.clock.setTimeout(function(){"to"in t&&t.to?e.sendTo(t._event,t.to,!0):e.send(t._event)},t.delay);t.id&&(this.delayedEventsMap[t.id]=n)},t.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},t.prototype.exec=function(t,e,n){void 0===n&&(n=this.machine.options.actions),this._exec(t,e.context,e._event,n)},t.prototype.removeChild=function(t){var e;this.children.delete(t),this.forwardTo.delete(t),null===(e=this.state)||void 0===e||delete e.children[t]},t.prototype.stopChild=function(t){var e=this.children.get(t);e&&(this.removeChild(t),(0,f.mf)(e.stop)&&e.stop())},t.prototype.spawn=function(t,e,n){if(this.status!==r.Running)return(0,d.Xg)(t,e);if((0,f.y8)(t))return this.spawnPromise(Promise.resolve(t),e);if((0,f.mf)(t))return this.spawnCallback(t,e);if((0,d.f3)(t))return this.spawnActor(t,e);if((0,f.bi)(t))return this.spawnObservable(t,e);if((0,f.O4)(t))return this.spawnMachine(t,(0,i.pi)((0,i.pi)({},n),{id:e}));else if((0,f.HV)(t))return this.spawnBehavior(t,e);else throw Error('Unable to spawn entity "'.concat(e,'" of type "').concat(typeof t,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;void 0===n&&(n={});var o=new t(e,(0,i.pi)((0,i.pi)({},this.options),{parent:this,id:n.id||e.id})),a=(0,i.pi)((0,i.pi)({},b),n);return a.sync&&o.onTransition(function(t){r.send(s.Vx,{state:t,id:o.id})}),this.children.set(o.id,o),a.autoForward&&this.forwardTo.add(o.id),o.onDone(function(t){r.removeChild(o.id),r.send((0,f.g5)(t,{origin:o.id}))}).start(),o},t.prototype.spawnBehavior=function(t,e){var n,r,i,o,a,s,c,u,l,h=(r={id:e,parent:this},i=t.initialState,o=new Set,a=[],s=!1,c=function(){if(!s){for(s=!0;a.length>0;){var e=a.shift();i=t.transition(i,e,l),o.forEach(function(t){return t.next(i)})}s=!1}},u=(0,d.vk)({id:r.id,send:function(t){a.push(t),c()},getSnapshot:function(){return i},subscribe:function(t,e,n){var r=(0,f.zM)(t,e,n);return o.add(r),r.next(i),{unsubscribe:function(){o.delete(r)}}}}),l={parent:r.parent,self:u,id:r.id||"anonymous",observers:o},i=t.start?t.start(l):i,u);return this.children.set(e,h),h},t.prototype.spawnPromise=function(t,e){var n,r,i=this,o=!1;t.then(function(t){o||(r=t,i.removeChild(e),i.send((0,f.g5)((0,c.Sl)(e,t),{origin:e})))},function(t){if(!o){i.removeChild(e);var n=(0,c.vU)(e,t);try{i.send((0,f.g5)(n,{origin:e}))}catch(r){(0,f.v4)(t,r,e),i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}});var a=((n={id:e,send:function(){},subscribe:function(e,n,r){var i=(0,f.zM)(e,n,r),o=!1;return t.then(function(t){if(!o)i.next(t),!o&&i.complete()},function(t){!o&&i.error(t)}),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:e}},getSnapshot:function(){return r}})[f.L$]=function(){return this},n);return this.children.set(e,a),a},t.prototype.spawnCallback=function(t,e){var n,r,i,o=this,a=!1,s=new Set,u=new Set,l=function(t){r=t,u.forEach(function(e){return e(t)}),!a&&o.send((0,f.g5)(t,{origin:e}))};try{i=t(l,function(t){s.add(t)})}catch(h){this.send((0,c.vU)(e,h))}if((0,f.y8)(i))return this.spawnPromise(i,e);var d=((n={id:e,send:function(t){return s.forEach(function(e){return e(t)})},subscribe:function(t){var e=(0,f.zM)(t);return u.add(e.next),{unsubscribe:function(){u.delete(e.next)}}},stop:function(){a=!0,(0,f.mf)(i)&&i()},toJSON:function(){return{id:e}},getSnapshot:function(){return r}})[f.L$]=function(){return this},n);return this.children.set(e,d),d},t.prototype.spawnObservable=function(t,e){var n,r,i=this,o=t.subscribe(function(t){r=t,i.send((0,f.g5)(t,{origin:e}))},function(t){i.removeChild(e),i.send((0,f.g5)((0,c.vU)(e,t),{origin:e}))},function(){i.removeChild(e),i.send((0,f.g5)((0,c.Sl)(e),{origin:e}))}),a=((n={id:e,send:function(){},subscribe:function(e,n,r){return t.subscribe(e,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:e}}})[f.L$]=function(){return this},n);return this.children.set(e,a),a},t.prototype.spawnActor=function(t,e){return this.children.set(e,t),t},t.prototype.spawnActivity=function(t){var e=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(!e){u.M||(0,f.ZK)(!1,"No implementation found for activity '".concat(t.type,"'"));return}var n=e(this.state.context,t);this.spawnEffect(t.id,n)},t.prototype.spawnEffect=function(t,e){var n;this.children.set(t,((n={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:e||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}})[f.L$]=function(){return this},n))},t.prototype.attachDev=function(){var t=g();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var e="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect((0,i.pi)((0,i.pi)({name:this.id,autoPause:!0,stateSanitizer:function(t){return{value:t.value,context:t.context,actions:t.actions}}},e),{features:(0,i.pi)({jump:!1,skip:!1},e?e.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(t){if(g()){var e=function(){var t=g();if(t&&"__xstate__"in t)return t.__xstate__}();e&&e.register(t)}}(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[f.L$]=function(){return this},t.prototype.getSnapshot=function(){return this.status===r.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,e){return setTimeout(t,e)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},t.interpret=x,t}();function x(t,e){return new S(t,e)}},80237:function(t,e,n){n.d(e,{J:function(){return i}});var r=[],i=function(t,e){r.push(t);var n=e(t);return r.pop(),n}},88297:function(t,e,n){n.d(e,{G:function(){return s},Ij:function(){return function t(e,n){return"compound"===n.type?s(n).some(function(t){return"final"===t.type&&h(e,t)}):"parallel"===n.type&&s(n).every(function(n){return t(e,n)})}},N9:function(){return o},NA:function(){return l},Oe:function(){return p},P_:function(){return u},ac:function(){return c},e$:function(){return h},nI:function(){return a},nJ:function(){return d},xZ:function(){return v}});var r=n(70572),i=n(70049),o=function(t){return"atomic"===t.type||"final"===t.type};function a(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function s(t){return a(t).filter(function(t){return"history"!==t.type})}function c(t){var e=[t];return o(t)?e:e.concat((0,i.xH)(s(t).map(c)))}function u(t,e){var n,i,o,a,c,u,l,h,d=new Set(t),v=f(d),p=new Set(e);try{for(var y=(0,r.XA)(p),g=y.next();!g.done;g=y.next())for(var m=g.value,_=m.parent;_&&!p.has(_);)p.add(_),_=_.parent}catch(b){n={error:b}}finally{try{g&&!g.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}var S=f(p);try{for(var x=(0,r.XA)(p),w=x.next();!w.done;w=x.next()){var m=w.value;if("compound"!==m.type||S.get(m)&&S.get(m).length){if("parallel"===m.type)try{for(var A=(c=void 0,(0,r.XA)(s(m))),E=A.next();!E.done;E=A.next()){var O=E.value;p.has(O)||(p.add(O),v.get(O)?v.get(O).forEach(function(t){return p.add(t)}):O.initialStateNodes.forEach(function(t){return p.add(t)}))}}catch(M){c={error:M}}finally{try{E&&!E.done&&(u=A.return)&&u.call(A)}finally{if(c)throw c.error}}}else v.get(m)?v.get(m).forEach(function(t){return p.add(t)}):m.initialStateNodes.forEach(function(t){return p.add(t)})}}catch(T){o={error:T}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}try{for(var k=(0,r.XA)(p),j=k.next();!j.done;j=k.next())for(var m=j.value,_=m.parent;_&&!p.has(_);)p.add(_),_=_.parent}catch(N){l={error:N}}finally{try{j&&!j.done&&(h=k.return)&&h.call(k)}finally{if(l)throw l.error}}return p}function f(t){var e,n,i=new Map;try{for(var o=(0,r.XA)(t),a=o.next();!a.done;a=o.next()){var s=a.value;i.has(s)||i.set(s,[]),s.parent&&(i.has(s.parent)||i.set(s.parent,[]),i.get(s.parent).push(s))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function l(t,e){var n=u([t],e);return function t(e,n){var r=n.get(e);if(!r)return{};if("compound"===e.type){var i=r[0];if(!i)return{};if(o(i))return i.key}var a={};return r.forEach(function(e){a[e.key]=t(e,n)}),a}(t,f(n))}function h(t,e){return Array.isArray(t)?t.some(function(t){return t===e}):t instanceof Set&&t.has(e)}function d(t){return(0,r.ev)([],(0,r.CR)(new Set((0,i.xH)((0,r.ev)([],(0,r.CR)(t.map(function(t){return t.ownEvents})),!1)))),!1)}function v(t){return void 0===t&&(t=[]),t.reduce(function(t,e){return void 0!==e.meta&&(t[e.id]=e.meta),t},{})}function p(t){return new Set((0,i.xH)(t.map(function(t){return t.tags})))}},3763:function(t,e,n){var r,i,o,a;n.d(e,{K:function(){return i},M:function(){return r}}),(o=r||(r={})).Start="xstate.start",o.Stop="xstate.stop",o.Raise="xstate.raise",o.Send="xstate.send",o.Cancel="xstate.cancel",o.NullEvent="",o.Assign="xstate.assign",o.After="xstate.after",o.DoneState="done.state",o.DoneInvoke="done.invoke",o.Log="xstate.log",o.Init="xstate.init",o.Invoke="xstate.invoke",o.ErrorExecution="error.execution",o.ErrorCommunication="error.communication",o.ErrorPlatform="error.platform",o.ErrorCustom="xstate.error",o.Update="xstate.update",o.Pure="xstate.pure",o.Choose="xstate.choose",(a=i||(i={})).Parent="#_parent",a.Internal="#_internal"},70049:function(t,e,n){n.d(e,{Bc:function(){return I},ET:function(){return p},HD:function(){return j},HV:function(){return w},JQ:function(){return S},L$:function(){return P},O4:function(){return R},Q8:function(){return d},Q9:function(){return f},QX:function(){return b},Qi:function(){return N},SA:function(){return function t(e){return e?j(e)?[[e]]:g(Object.keys(e).map(function(n){var r=e[n];return"string"==typeof r||r&&Object.keys(r).length?t(e[n]).map(function(t){return[n].concat(t)}):[[n]]})):[[]]}},W:function(){return function t(e,n,r){void 0===r&&(r=s.iS);var i=l(e,r),o=l(n,r);return j(o)?!!j(i)&&o===i:j(i)?i in o:Object.keys(i).every(function(e){return e in o&&t(i[e],o[e])})}},WM:function(){return l},ZK:function(){return M},_v:function(){return L},bi:function(){return C},bx:function(){return z},dt:function(){return O},g5:function(){return D},gk:function(){return y},ib:function(){return v},j:function(){return Z},jh:function(){return V},kJ:function(){return T},mf:function(){return k},on:function(){return h},qo:function(){return _},rg:function(){return H},uK:function(){return A},v4:function(){return F},vK:function(){return $},vx:function(){return U},x6:function(){return u},xH:function(){return g},y8:function(){return x},yv:function(){return E},zM:function(){return X}});var r,i=n(70572),o=n(3763),a=n(20449),s=n(84766),c=n(49333);function u(t){try{return j(t)||"number"==typeof t?"".concat(t):t.type}catch(e){throw Error("Events must be strings or objects with a string event.type property.")}}function f(t,e){try{if(T(t))return t;return t.toString().split(e)}catch(n){throw Error("'".concat(t,"' is not a valid state path."))}}function l(t,e){var n;return"object"==typeof t&&"value"in t&&"context"in t&&"event"in t&&"_event"in t?t.value:T(t)?h(t):"string"!=typeof t?t:h(f(t,e))}function h(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function d(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}function v(t,e,n){var r,o,a={};try{for(var s=(0,i.XA)(Object.keys(t)),c=s.next();!c.done;c=s.next()){var u=c.value,f=t[u];n(f)&&(a[u]=e(f,u,t))}}catch(l){r={error:l}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}var p=function(t){return function(e){var n,r,o=e;try{for(var a=(0,i.XA)(t),s=a.next();!s.done;s=a.next())o=o[s.value]}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}};function y(t,e){return function(n){var r,o,a=n;try{for(var s=(0,i.XA)(t),c=s.next();!c.done;c=s.next()){var u=c.value;a=a[e][u]}}catch(f){r={error:f}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}}function g(t){var e;return(e=[]).concat.apply(e,(0,i.ev)([],(0,i.CR)(t),!1))}function m(t){return T(t)?t:[t]}function _(t){return void 0===t?[]:m(t)}function b(t,e,n){if(k(t))return t(e,n.data);var r,o,a={};try{for(var s=(0,i.XA)(Object.keys(t)),c=s.next();!c.done;c=s.next()){var u=c.value,f=t[u];k(f)?a[u]=f(e,n.data):a[u]=f}}catch(l){r={error:l}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}function S(t){return/^(done|error)\./.test(t)}function x(t){return!!(t instanceof Promise||null!==t&&(k(t)||"object"==typeof t)&&k(t.then))}function w(t){return null!==t&&"object"==typeof t&&"transition"in t&&"function"==typeof t.transition}function A(t,e){var n,r,o=(0,i.CR)([[],[]],2),a=o[0],s=o[1];try{for(var c=(0,i.XA)(t),u=c.next();!u.done;u=c.next()){var f=u.value;e(f)?a.push(f):s.push(f)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return[a,s]}function E(t,e){return{current:e,states:function t(e,n){return d(e.states,function(e,r){if(e){var i=(j(n)?void 0:n[r])||(e?e.current:void 0);if(i)return{current:i,states:t(e,i)}}})}(t,e)}}function O(t,e,n,r){return c.M||M(!!t,"Attempting to update undefined context"),t?n.reduce(function(t,n){var o,a,s=n.assignment,c={state:r,action:n,_event:e},u={};if(k(s))u=s(t,e.data,c);else try{for(var f=(0,i.XA)(Object.keys(s)),l=f.next();!l.done;l=f.next()){var h=l.value,d=s[h];u[h]=k(d)?d(t,e.data,c):d}}catch(v){o={error:v}}finally{try{l&&!l.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}return Object.assign({},t,u)},t):t}var M=function(){};function T(t){return Array.isArray(t)}function k(t){return"function"==typeof t}function j(t){return"string"==typeof t}function N(t,e){return t?j(t)?{type:s.TV,name:t,predicate:e?e[t]:void 0}:k(t)?{type:s.TV,name:t.name,predicate:t}:t:void 0}function C(t){try{return"subscribe"in t&&k(t.subscribe)}catch(e){return!1}}c.M||(M=function(t,e){var n=t instanceof Error?t:void 0;if((n||!t)&&void 0!==console){var r=["Warning: ".concat(e)];n&&r.push(n),console.warn.apply(console,r)}});var P="function"==typeof Symbol&&Symbol.observable||"@@observable";function R(t){return!!t&&"__xstatenode"in t}function I(t){return!!t&&"function"==typeof t.send}function L(t,e){return j(t)||"number"==typeof t?(0,i.pi)({type:t},e):t}function D(t,e){if(!j(t)&&"$$type"in t&&"scxml"===t.$$type)return t;var n=L(t);return(0,i.pi)({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function V(t,e){return m(e).map(function(e){return void 0===e||"string"==typeof e||R(e)?{target:e,event:t}:(0,i.pi)((0,i.pi)({},e),{event:t})})}function H(t){if(void 0!==t&&t!==s.rt)return _(t)}function F(t,e,n){if(!c.M){var r=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";if(t===e)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(t,"'.").concat(r));else{var i=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(t,"'. ").concat(r," Current error is '").concat(e,"'.").concat(i))}}}function U(t,e,n,r,i){var o=t.options.guards,a={state:i,cond:e,_event:r};if(e.type===s.TV)return((null==o?void 0:o[e.name])||e.predicate)(n,r.data,a);var c=null==o?void 0:o[e.type];if(!c)throw Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return c(n,r.data,a)}function Z(t){return"string"==typeof t?{type:t}:t}function X(t,e,n){var r=function(){},i="object"==typeof t,o=i?t:null;return{next:((i?t.next:t)||r).bind(o),error:((i?t.error:e)||r).bind(o),complete:((i?t.complete:n)||r).bind(o)}}function z(t,e){return"".concat(t,":invocation[").concat(e,"]")}function $(t){return(t.type===a.OU||t.type===a.lW&&t.to===o.K.Internal)&&"number"!=typeof t.delay}(r={})[P]=function(){return this},r[Symbol.observable]=function(){return this}},10557:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(57649),i=n(60035),o=n(84743);function a(t){var e;return(e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}})[i.symbolObservable]=function(){return this},e}function s(t,e,n){var r=a(e);if(r.deferred=!0,i.isMachine(t)){var s=r.state=o.provide(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return s}}return r}function c(t){try{return"function"==typeof t.send}catch(e){return!1}}e.createDeferredActor=s,e.createInvocableActor=function(t,e,n,r){var o,c=i.toInvokeSource(t.src),u=null===(o=null==e?void 0:e.options.services)||void 0===o?void 0:o[c.type],f=t.data?i.mapContext(t.data,n,r):void 0,l=u?s(u,t.id,f):a(t.id);return l.meta=t,l},e.createNullActor=a,e.isActor=c,e.isSpawnedActor=function(t){return c(t)&&"id"in t},e.toActorRef=function(t){var e;return r.__assign(((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[i.symbolObservable]=function(){return this},e),t)}},409:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(88916),i=n(78664),o=!1;e.Machine=function(t,e,n){return void 0===n&&(n=t.context),new r.StateNode(t,e,n)},e.createMachine=function(t,e){return i.IS_PRODUCTION||"predictableActionArguments"in t||o||(o=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new r.StateNode(t,e)}},14255:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(57649),i=n(3442),o=n(60035),a=n(9108),s=n(25612),c=n(78664);function u(t){return"object"==typeof t&&null!==t&&"value"in t&&"_event"in t}var f=function(){function t(t){var e,n=this;this.actions=[],this.activities=i.EMPTY_ACTIVITY_MAP,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||i.EMPTY_ACTIVITY_MAP,this.meta=a.getMeta(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=null!==(e=Array.isArray(t.tags)?new Set(t.tags):t.tags)&&void 0!==e?e:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return a.nextEvents(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var r=s.initEvent;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=s.initEvent;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(t,e){var n=this;if(void 0===t&&(t=this.value),void 0===e&&(e="."),o.isString(t))return[t];var i=Object.keys(t);return i.concat.apply(i,r.__spreadArray([],r.__read(i.map(function(r){return n.toStrings(t[r],e).map(function(t){return r+e+t})})),!1))},t.prototype.toJSON=function(){this.configuration,this.transitions;var t=this.tags;this.machine;var e=r.__rest(this,["configuration","transitions","tags","machine"]);return r.__assign(r.__assign({},e),{tags:Array.from(t)})},t.prototype.matches=function(t){return o.matchesState(t,this.value)},t.prototype.hasTag=function(t){return this.tags.has(t)},t.prototype.can=function(t){c.IS_PRODUCTION&&o.warn(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var e,n=null===(e=this.machine)||void 0===e?void 0:e.getTransitionData(this,t);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some(function(t){return void 0!==t.target||t.actions.length})},t}();e.State=f,e.bindActionToState=function(t,e){var n=t.exec;return r.__assign(r.__assign({},t),{exec:void 0!==n?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0})},e.isState=u,e.isStateConfig=u,e.stateValuesEqual=function t(e,n){if(e===n)return!0;if(void 0===e||void 0===n)return!1;if(o.isString(e)||o.isString(n))return e===n;var r=Object.keys(e),i=Object.keys(n);return r.length===i.length&&r.every(function(r){return t(e[r],n[r])})}},88916:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(57649),i=n(60035),o=n(14255),a=n(83521),s=n(25612),c=n(78664),u=n(3442),f=n(9108),l=n(10557),h=n(8974),d={},v=function(t){return"#"===t[0]},p=function(t,e,n){var r=n.slice(0,-1).some(function(t){return!("cond"in t)&&!("in"in t)&&(i.isString(t.target)||i.isMachine(t.target))}),o=""===e?"the transient event":"event '".concat(e,"'");i.warn(!r,"One or more transitions for ".concat(o," on state '").concat(t.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},y=function(){function t(e,n,o,a){void 0===o&&(o="context"in e?e.context:void 0);var l,v=this;this.config=e,this._context=o,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==a?void 0:a.parent,this.key=this.config.key||(null==a?void 0:a.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:u.STATE_DELIMITER),this.id=this.config.id||r.__spreadArray([this.machine.key],r.__read(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(l=this.config.schema)&&void 0!==l?l:{},this.description=this.config.description,c.IS_PRODUCTION||i.warn(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?i.mapValues(this.config.states,function(e,n){var i,o=new t(e,{},void 0,{parent:v,key:n});return Object.assign(v.idMap,r.__assign(((i={})[o.id]=o,i),o.idMap)),o}):d;var p=0;!function t(e){var n,i;e.order=p++;try{for(var o=r.__values(f.getAllChildren(e)),a=o.next();!a.done;a=o.next()){var s=a.value;t(s)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(t){return""===t.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=i.toArray(this.config.entry||this.config.onEntry).map(function(t){return s.toActionObject(t)}),this.onExit=i.toArray(this.config.exit||this.config.onExit).map(function(t){return s.toActionObject(t)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=i.toArray(this.config.invoke).map(function(t,e){if(i.isMachine(t)){var n,o,a=i.createInvokeId(v.id,e);return v.machine.options.services=r.__assign(((n={})[a]=t,n),v.machine.options.services),h.toInvokeDefinition({src:a,id:a})}if(i.isString(t.src)){var a=t.id||i.createInvokeId(v.id,e);return h.toInvokeDefinition(r.__assign(r.__assign({},t),{id:a,src:t.src}))}if(i.isMachine(t.src)||i.isFunction(t.src)){var a=t.id||i.createInvokeId(v.id,e);return v.machine.options.services=r.__assign(((o={})[a]=t.src,o),v.machine.options.services),h.toInvokeDefinition(r.__assign(r.__assign({id:a},t),{src:a}))}var s=t.src;return h.toInvokeDefinition(r.__assign(r.__assign({id:i.createInvokeId(v.id,e)},t),{src:s}))}),this.activities=i.toArray(this.config.activities).concat(this.invoke).map(function(t){return s.toActivityDefinition(t)}),this.transition=this.transition.bind(this),this.tags=i.toArray(this.config.tags)}return t.prototype._init=function(){!this.__cache.transitions&&f.getAllStateNodes(this).forEach(function(t){return t.on})},t.prototype.withConfig=function(e,n){var i=this.options,o=i.actions,a=i.activities,s=i.guards,c=i.services,u=i.delays;return new t(this.config,{actions:r.__assign(r.__assign({},o),e.actions),activities:r.__assign(r.__assign({},a),e.activities),guards:r.__assign(r.__assign({},s),e.guards),services:r.__assign(r.__assign({},c),e.services),delays:r.__assign(r.__assign({},u),e.delays)},null!=n?n:this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return i.isFunction(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:i.mapValues(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(t,e){return t[e.eventType]=t[e.eventType]||[],t[e.eventType].push(e),t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var e=""===t,n=this.transitions.filter(function(n){var r=n.eventType===t;return e?r:r||"*"===n.eventType});return this.__cache.candidates[t]=n,n},t.prototype.getDelayedTransitions=function(){var t=this,e=this.config.after;if(!e)return[];var n=function(e,n){var r=i.isFunction(e)?"".concat(t.id,":delay[").concat(n,"]"):e,o=s.after(r,t.id);return t.onEntry.push(s.send(o,{delay:e})),t.onExit.push(s.cancel(o)),o};return(i.isArray(e)?e.map(function(t,e){var i=n(t.delay,e);return r.__assign(r.__assign({},t),{event:i})}):i.flatten(Object.keys(e).map(function(t,o){var a=e[t],s=i.isString(a)?{target:a}:a,c=isNaN(+t)?t:+t,u=n(c,o);return i.toArray(s).map(function(t){return r.__assign(r.__assign({},t),{event:u,delay:c})})}))).map(function(e){var n=e.delay;return r.__assign(r.__assign({},t.formatTransition(e)),{delay:n})})},t.prototype.getStateNodes=function(t){var e,n=this;if(!t)return[];var a=t instanceof o.State?t.value:i.toStateValue(t,this.delimiter);if(i.isString(a)){var s=this.getStateNode(a).initial;return void 0!==s?this.getStateNodes(((e={})[a]=s,e)):[this,this.states[a]]}var c=Object.keys(a),u=[this];return u.push.apply(u,r.__spreadArray([],r.__read(i.flatten(c.map(function(t){return n.getStateNode(t).getStateNodes(a[t])}))),!1)),u},t.prototype.handles=function(t){var e=i.getEventType(t);return this.events.includes(e)},t.prototype.resolveState=function(t){var e=t instanceof o.State?t:o.State.create(t),n=Array.from(f.getConfiguration([],this.getStateNodes(e.value)));return new o.State(r.__assign(r.__assign({},e),{value:this.resolve(e.value),configuration:n,done:f.isInFinalState(n,this),tags:f.getTagsFromConfiguration(n),machine:this.machine}))},t.prototype.transitionLeafNode=function(t,e,n){var r=this.getStateNode(t).next(e,n);return r&&r.transitions.length?r:this.next(e,n)},t.prototype.transitionCompoundNode=function(t,e,n){var r=Object.keys(t),i=this.getStateNode(r[0])._transition(t[r[0]],e,n);return i&&i.transitions.length?i:this.next(e,n)},t.prototype.transitionParallelNode=function(t,e,n){var o,a,s={};try{for(var c=r.__values(Object.keys(t)),u=c.next();!u.done;u=c.next()){var f=u.value,l=t[f];if(l){var h=this.getStateNode(f)._transition(l,e,n);h&&(s[f]=h)}}}catch(d){o={error:d}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}var v=Object.keys(s).map(function(t){return s[t]}),p=i.flatten(v.map(function(t){return t.transitions}));if(!v.some(function(t){return t.transitions.length>0}))return this.next(e,n);var y=i.flatten(Object.keys(s).map(function(t){return s[t].configuration}));return{transitions:p,exitSet:i.flatten(v.map(function(t){return t.exitSet})),configuration:y,source:e,actions:i.flatten(Object.keys(s).map(function(t){return s[t].actions}))}},t.prototype._transition=function(t,e,n){return i.isString(t)?this.transitionLeafNode(t,e,n):1===Object.keys(t).length?this.transitionCompoundNode(t,e,n):this.transitionParallelNode(t,e,n)},t.prototype.getTransitionData=function(t,e){return this._transition(t.value,t,i.toSCXMLEvent(e))},t.prototype.next=function(t,e){var n,o,a,s=this,c=e.name,u=[],f=[];try{for(var l=r.__values(this.getCandidates(c)),h=l.next();!h.done;h=l.next()){var d=h.value,p=d.cond,y=d.in,g=t.context,m=!y||(i.isString(y)&&v(y)?t.matches(i.toStateValue(this.getStateNodeById(y).path,this.delimiter)):i.matchesState(i.toStateValue(y,this.delimiter),i.path(this.path.slice(0,-2))(t.value))),_=!1;try{_=!p||i.evaluateGuard(this.machine,p,g,e,t)}catch(b){throw Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(c,"' in state node '").concat(this.id,"':\n").concat(b.message))}if(_&&m){void 0!==d.target&&(f=d.target),u.push.apply(u,r.__spreadArray([],r.__read(d.actions),!1)),a=d;break}}}catch(S){n={error:S}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}if(a){if(!f.length)return{transitions:[a],exitSet:[],configuration:t.value?[this]:[],source:t,actions:u};var x=i.flatten(f.map(function(e){return s.getRelativeStateNodes(e,t.historyValue)})),w=!!a.internal;return{transitions:[a],exitSet:w?[]:i.flatten(f.map(function(t){return s.getPotentiallyReenteringNodes(t)})),configuration:x,source:t,actions:u}}},t.prototype.getPotentiallyReenteringNodes=function(t){if(this.order<t.order)return[this];for(var e=[],n=this;n&&n!==t;)e.push(n),n=n.parent;return n!==t?[]:(e.push(t),e)},t.prototype.getActions=function(t,e,n,o,a,c,u){var l,h,d,v,p=this,y=c?f.getConfiguration([],this.getStateNodes(c.value)):[],g=new Set;try{for(var m=r.__values(Array.from(t).sort(function(t,e){return t.order-e.order})),_=m.next();!_.done;_=m.next()){var b=_.value;(!f.has(y,b)||f.has(n.exitSet,b)||b.parent&&g.has(b.parent))&&g.add(b)}}catch(S){l={error:S}}finally{try{_&&!_.done&&(h=m.return)&&h.call(m)}finally{if(l)throw l.error}}try{for(var x=r.__values(y),w=x.next();!w.done;w=x.next()){var b=w.value;(!f.has(t,b)||f.has(n.exitSet,b.parent))&&n.exitSet.push(b)}}catch(A){d={error:A}}finally{try{w&&!w.done&&(v=x.return)&&v.call(x)}finally{if(d)throw d.error}}n.exitSet.sort(function(t,e){return e.order-t.order});var E=Array.from(g).sort(function(t,e){return t.order-e.order}),O=new Set(n.exitSet),M=i.flatten(E.map(function(t){var e=[];if("final"!==t.type)return e;var r=t.parent;if(!r.parent)return e;e.push(s.done(t.id,t.doneData),s.done(r.id,t.doneData?i.mapContext(t.doneData,o,a):void 0));var c=r.parent;return"parallel"===c.type&&f.getChildren(c).every(function(t){return f.isInFinalState(n.configuration,t)})&&e.push(s.done(c.id)),e})),T=E.map(function(t){var e=t.onEntry,n=t.activities.map(function(t){return s.start(t)});return{type:"entry",actions:s.toActionObjects(u?r.__spreadArray(r.__spreadArray([],r.__read(e),!1),r.__read(n),!1):r.__spreadArray(r.__spreadArray([],r.__read(n),!1),r.__read(e),!1),p.machine.options.actions)}}).concat({type:"state_done",actions:M.map(function(t){return s.raise(t)})}),k=Array.from(O).map(function(t){return{type:"exit",actions:s.toActionObjects(r.__spreadArray(r.__spreadArray([],r.__read(t.onExit),!1),r.__read(t.activities.map(function(t){return s.stop(t)})),!1),p.machine.options.actions)}}).concat({type:"transition",actions:s.toActionObjects(n.actions,this.machine.options.actions)}).concat(T);if(e){var j=s.toActionObjects(i.flatten(r.__spreadArray([],r.__read(t),!1).sort(function(t,e){return e.order-t.order}).map(function(t){return t.onExit})),this.machine.options.actions).filter(function(t){return!i.isRaisableAction(t)});return k.concat({type:"stop",actions:j})}return k},t.prototype.transition=function(t,e,n,a){void 0===t&&(t=this.initialState);var s,u=i.toSCXMLEvent(e);if(t instanceof o.State)s=void 0===n?t:this.resolveState(o.State.from(t,n));else{var l=i.isString(t)?this.resolve(i.pathToStateValue(this.getResolvedPath(t))):this.resolve(t),h=null!=n?n:this.machine.context;s=this.resolveState(o.State.from(l,h))}if(!c.IS_PRODUCTION&&"*"===u.name)throw Error("An event cannot have the wildcard type ('".concat("*","')"));if(this.strict&&!this.events.includes(u.name)&&!i.isBuiltInEvent(u.name))throw Error("Machine '".concat(this.id,"' does not accept event '").concat(u.name,"'"));var d=this._transition(s.value,s,u)||{transitions:[],configuration:[],exitSet:[],source:s,actions:[]},v=f.getConfiguration([],this.getStateNodes(s.value)),p=d.configuration.length?f.getConfiguration(v,d.configuration):v;return d.configuration=r.__spreadArray([],r.__read(p),!1),this.resolveTransition(d,s,s.context,a,u)},t.prototype.resolveRaisedTransition=function(t,e,n,i){var o,a=t.actions;return(t=this.transition(t,e,void 0,i))._event=n,t.event=n.data,(o=t.actions).unshift.apply(o,r.__spreadArray([],r.__read(a),!1)),t},t.prototype.resolveTransition=function(t,e,n,c,u){var h,d,v,p,y=this;void 0===u&&(u=s.initEvent);var g=t.configuration,m=!e||t.transitions.length>0,_=m?t.configuration:e?e.configuration:[],b=f.isInFinalState(_,this),S=m?f.getValue(this.machine,g):void 0,x=e?e.historyValue?e.historyValue:t.source?this.machine.historyValue(e.value):void 0:void 0,w=this.getActions(new Set(_),b,t,n,u,e,c),A=e?r.__assign({},e.activities):{};try{for(var E=r.__values(w),O=E.next();!O.done;O=E.next()){var M=O.value;try{for(var T=(v=void 0,r.__values(M.actions)),k=T.next();!k.done;k=T.next()){var j=k.value;j.type===a.start?A[j.activity.id||j.activity.type]=j:j.type===a.stop&&(A[j.activity.id||j.activity.type]=!1)}}catch(N){v={error:N}}finally{try{k&&!k.done&&(p=T.return)&&p.call(T)}finally{if(v)throw v.error}}}}catch(C){h={error:C}}finally{try{O&&!O.done&&(d=E.return)&&d.call(E)}finally{if(h)throw h.error}}var P=r.__read(s.resolveActions(this,e,n,u,w,c,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),R=P[0],I=P[1],L=r.__read(i.partition(R,i.isRaisableAction),2),D=L[0],V=L[1],H=R.filter(function(t){var e;return t.type===a.start&&(null===(e=t.activity)||void 0===e?void 0:e.type)===a.invoke}).reduce(function(t,e){return t[e.activity.id]=l.createInvocableActor(e.activity,y.machine,I,u),t},e?r.__assign({},e.children):{}),F=new o.State({value:S||e.value,context:I,_event:u,_sessionid:e?e._sessionid:null,historyValue:S?x?i.updateHistoryValue(x,S):void 0:e?e.historyValue:void 0,history:!S||t.source?e:void 0,actions:S?V:[],activities:S?A:e?e.activities:{},events:[],configuration:_,transitions:t.transitions,children:H,done:b,tags:f.getTagsFromConfiguration(_),machine:this}),U=n!==I;F.changed=u.name===a.update||U;var Z=F.history;Z&&delete Z.history;var X=!b&&(this._transient||g.some(function(t){return t._transient}));if(!m&&(!X||""===u.name))return F;var z=F;if(!b)for(X&&(z=this.resolveRaisedTransition(z,{type:a.nullEvent},u,c));D.length;){var $=D.shift();z=this.resolveRaisedTransition(z,$._event,u,c)}var q=z.changed||(Z?!!z.actions.length||U||typeof Z.value!=typeof z.value||!o.stateValuesEqual(z.value,Z.value):void 0);return z.changed=q,z.history=Z,z},t.prototype.getStateNode=function(t){if(v(t))return this.machine.getStateNodeById(t);if(!this.states)throw Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var e=this.states[t];if(!e)throw Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return e},t.prototype.getStateNodeById=function(t){var e=v(t)?t.slice(1):t;if(e===this.id)return this;var n=this.machine.idMap[e];if(!n)throw Error("Child state node '#".concat(e,"' does not exist on machine '").concat(this.id,"'"));return n},t.prototype.getStateNodeByPath=function(t){if("string"==typeof t&&v(t))try{return this.getStateNodeById(t.slice(1))}catch(e){}for(var n=i.toStatePath(t,this.delimiter).slice(),r=this;n.length;){var o=n.shift();if(!o.length)break;r=r.getStateNode(o)}return r},t.prototype.resolve=function(t){var e,n=this;if(!t)return this.initialStateValue||d;switch(this.type){case"parallel":return i.mapValues(this.initialStateValue,function(e,r){return e?n.getStateNode(r).resolve(t[r]||e):d});case"compound":if(i.isString(t)){var r=this.getStateNode(t);if("parallel"===r.type||"compound"===r.type)return(e={})[t]=r.initialStateValue,e;return t}if(!Object.keys(t).length)return this.initialStateValue||{};return i.mapValues(t,function(t,e){return t?n.getStateNode(e).resolve(t):d});default:return t||d}},t.prototype.getResolvedPath=function(t){if(v(t)){var e=this.machine.idMap[t.slice(1)];if(!e)throw Error("Unable to find state node '".concat(t,"'"));return e.path}return i.toStatePath(t,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var t,e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)e=i.mapFilterValues(this.states,function(t){return t.initialStateValue||d},function(t){return"history"!==t.type});else if(void 0!==this.initial){if(!this.states[this.initial])throw Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));e=f.isLeafNode(this.states[this.initial])?this.initial:((t={})[this.initial]=this.states[this.initial].initialStateValue,t)}else e={};return this.__cache.initialStateValue=e,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(t,e){this._init();var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=e?e:this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;if("history"===this.type){var e=this.config;t=i.isString(e.target)&&v(e.target)?i.pathToStateValue(this.machine.getStateNodeById(e.target).path.slice(this.path.length-1)):e.target}return t},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(t,e,n){return void 0===n&&(n=!0),n?"history"===t.type?t.resolveHistory(e):t.initialStateNodes:[t]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var t=this;if(f.isLeafNode(this))return[this];if("compound"===this.type&&!this.initial)return c.IS_PRODUCTION||i.warn(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var e=i.toStatePaths(this.initialStateValue);return i.flatten(e.map(function(e){return t.getFromRelativePath(e)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var e=r.__read(t),n=e[0],i=e.slice(1);if(!this.states)throw Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var o=this.getStateNode(n);if("history"===o.type)return o.resolveHistory();if(!this.states[n])throw Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(i)},t.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:i.mapFilterValues(this.states,function(e,n){if(!t)return e.historyValue();var r=i.isString(t)?void 0:t[n];return e.historyValue(r||e.initialStateValue)},function(t){return!t.history})}},t.prototype.resolveHistory=function(t){var e=this;if("history"!==this.type)return[this];var n=this.parent;if(!t){var r=this.target;return r?i.flatten(i.toStatePaths(r).map(function(t){return n.getFromRelativePath(t)})):n.initialStateNodes}var o=i.nestedPath(n.path,"states")(t).current;return i.isString(o)?[n.getStateNode(o)]:i.flatten(i.toStatePaths(o).map(function(t){return"deep"===e.history?n.getFromRelativePath(t):[n.states[t[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var t=this;return[this.id].concat(i.flatten(Object.keys(this.states).map(function(e){return t.states[e].stateIds})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){if(this.__cache.events)return this.__cache.events;var t,e,n,i,o=this.states,a=new Set(this.ownEvents);if(o)try{for(var s=r.__values(Object.keys(o)),c=s.next();!c.done;c=s.next()){var u=o[c.value];if(u.states)try{for(var f=(n=void 0,r.__values(u.events)),l=f.next();!l.done;l=f.next()){var h=l.value;a.add("".concat(h))}}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}}catch(v){t={error:v}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){return Array.from(new Set(this.transitions.filter(function(t){return!(!t.target&&!t.actions.length&&t.internal)}).map(function(t){return t.eventType})))},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(t){var e=this;if(void 0!==t)return t.map(function(t){if(!i.isString(t))return t;var n=t[0]===e.delimiter;if(n&&!e.parent)return e.getStateNodeByPath(t.slice(1));var r=n?e.key+t:t;if(!e.parent)return e.getStateNodeByPath(r);try{return e.parent.getStateNodeByPath(r)}catch(o){throw Error("Invalid transition definition for state node '".concat(e.id,"':\n").concat(o.message))}})},t.prototype.formatTransition=function(t){var e=this,n=i.normalizeTarget(t.target),o="internal"in t?t.internal:!n||n.some(function(t){return i.isString(t)&&t[0]===e.delimiter}),a=this.machine.options.guards,c=this.resolveTarget(n),u=r.__assign(r.__assign({},t),{actions:s.toActionObjects(i.toArray(t.actions)),cond:i.toGuard(t.cond,a),target:c,source:this,internal:o,eventType:t.event,toJSON:function(){return r.__assign(r.__assign({},u),{target:u.target?u.target.map(function(t){return"#".concat(t.id)}):void 0,source:"#".concat(e.id)})}});return u},t.prototype.formatTransitions=function(){var t,e,n,o=this;if(this.config.on){if(Array.isArray(this.config.on))n=this.config.on;else{var a=this.config.on,u=a["*"],f=r.__rest(a,["*"]);n=i.flatten(Object.keys(f).map(function(t){c.IS_PRODUCTION||""!==t||i.warn(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(o.id,'".'));var e=i.toTransitionConfigArray(t,f[t]);return c.IS_PRODUCTION||p(o,t,e),e}).concat(i.toTransitionConfigArray("*",void 0===u?[]:u)))}}else n=[];var l=this.config.always?i.toTransitionConfigArray("",this.config.always):[],h=this.config.onDone?i.toTransitionConfigArray(String(s.done(this.id)),this.config.onDone):[];c.IS_PRODUCTION||i.warn(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var d=i.flatten(this.invoke.map(function(t){var e=[];return t.onDone&&e.push.apply(e,r.__spreadArray([],r.__read(i.toTransitionConfigArray(String(s.doneInvoke(t.id)),t.onDone)),!1)),t.onError&&e.push.apply(e,r.__spreadArray([],r.__read(i.toTransitionConfigArray(String(s.error(t.id)),t.onError)),!1)),e})),v=this.after,y=i.flatten(r.__spreadArray(r.__spreadArray(r.__spreadArray(r.__spreadArray([],r.__read(h),!1),r.__read(d),!1),r.__read(n),!1),r.__read(l),!1).map(function(t){return i.toArray(t).map(function(t){return o.formatTransition(t)})}));try{for(var g=r.__values(v),m=g.next();!m.done;m=g.next()){var _=m.value;y.push(_)}}catch(b){t={error:b}}finally{try{m&&!m.done&&(e=g.return)&&e.call(g)}finally{if(t)throw t.error}}return y},t}();e.StateNode=y},57649:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ e.__assign=function(){return e.__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},e.__assign.apply(this,arguments)},e.__read=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},e.__spreadArray=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},e.__values=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}},83521:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(94309),i=r.ActionTypes.Start,o=r.ActionTypes.Stop,a=r.ActionTypes.Raise,s=r.ActionTypes.Send,c=r.ActionTypes.Cancel,u=r.ActionTypes.NullEvent,f=r.ActionTypes.Assign,l=r.ActionTypes.After,h=r.ActionTypes.DoneState,d=r.ActionTypes.Log,v=r.ActionTypes.Init,p=r.ActionTypes.Invoke,y=r.ActionTypes.ErrorExecution,g=r.ActionTypes.ErrorPlatform,m=r.ActionTypes.ErrorCustom,_=r.ActionTypes.Update,b=r.ActionTypes.Choose,S=r.ActionTypes.Pure;e.after=l,e.assign=f,e.cancel=c,e.choose=b,e.doneState=h,e.error=m,e.errorExecution=y,e.errorPlatform=g,e.init=v,e.invoke=p,e.log=d,e.nullEvent=u,e.pure=S,e.raise=a,e.send=s,e.start=i,e.stop=o,e.update=_},25612:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(57649),i=n(94309),o=n(83521),a=n(60035),s=n(78664),c=a.toSCXMLEvent({type:o.init});function u(t,e){return e&&e[t]||void 0}function f(t,e){var n;if(a.isString(t)||"number"==typeof t){var i=u(t,e);n=a.isFunction(i)?{type:t,exec:i}:i||{type:t,exec:void 0}}else if(a.isFunction(t))n={type:t.name||t.toString(),exec:t};else{var i=u(t.type,e);if(a.isFunction(i))n=r.__assign(r.__assign({},t),{exec:i});else if(i){var o=i.type||t.type;n=r.__assign(r.__assign(r.__assign({},i),t),{type:o})}else n=t}return n}var l=function(t,e){return t?(a.isArray(t)?t:[t]).map(function(t){return f(t,e)}):[]};function h(t){var e=f(t);return r.__assign(r.__assign({id:a.isString(t)?t:e.id},e),{type:e.type})}function d(t,e,n,i){var s,c={_event:n},u=a.toSCXMLEvent(a.isFunction(t.event)?t.event(e,n.data,c):t.event);if(a.isString(t.delay)){var f=i&&i[t.delay];s=a.isFunction(f)?f(e,n.data,c):f}else s=a.isFunction(t.delay)?t.delay(e,n.data,c):t.delay;return r.__assign(r.__assign({},t),{type:o.raise,_event:u,delay:s})}function v(t,e){return{to:e?e.to:void 0,type:o.send,event:a.isFunction(t)?t:a.toEventObject(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:a.isFunction(t)?t.name:a.getEventType(t)}}function p(t,e,n,i){var o,s={_event:n},c=a.toSCXMLEvent(a.isFunction(t.event)?t.event(e,n.data,s):t.event);if(a.isString(t.delay)){var u=i&&i[t.delay];o=a.isFunction(u)?u(e,n.data,s):u}else o=a.isFunction(t.delay)?t.delay(e,n.data,s):t.delay;var f=a.isFunction(t.to)?t.to(e,n.data,s):t.to;return r.__assign(r.__assign({},t),{to:f,_event:c,event:c.data,delay:o})}function y(t,e){return v(t,r.__assign(r.__assign({},e),{to:i.SpecialTargets.Parent}))}var g=function(t,e){return{context:t,event:e}},m=function(t,e,n){return r.__assign(r.__assign({},t),{value:a.isString(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},_=function(t){return{type:o.cancel,sendId:t}};function b(t,e,n){var r=a.isFunction(t.activity)?t.activity(e,n.data):t.activity;return{type:i.ActionTypes.Stop,activity:"string"==typeof r?{id:r}:r}}var S=function(t){return{type:o.assign,assignment:t}},x=function(t){var e,n,i=[];try{for(var a=r.__values(t),s=a.next();!s.done;s=a.next())for(var c=s.value,u=0;u<c.actions.length;){if(c.actions[u].type===o.assign){i.push(c.actions[u]),c.actions.splice(u,1);continue}u++}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i};e.actionTypes=o,e.after=function(t,e){var n=e?"#".concat(e):"";return"".concat(i.ActionTypes.After,"(").concat(t,")").concat(n)},e.assign=S,e.cancel=_,e.choose=function(t){return{type:i.ActionTypes.Choose,conds:t}},e.done=function(t,e){var n="".concat(i.ActionTypes.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r},e.doneInvoke=function(t,e){var n="".concat(i.ActionTypes.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r},e.error=function(t,e){var n="".concat(i.ActionTypes.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r},e.escalate=function(t,e){return y(function(e,n,r){return{type:o.error,data:a.isFunction(t)?t(e,n,r):t}},r.__assign(r.__assign({},e),{to:i.SpecialTargets.Parent}))},e.forwardTo=function(t,e){if(!s.IS_PRODUCTION&&(!t||"function"==typeof t)){var n=t;t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i="function"==typeof n?n.apply(void 0,r.__spreadArray([],r.__read(t),!1)):n;if(!i)throw Error("Attempted to forward event to undefined actor. This risks an infinite loop in the sender.");return i}}return v(function(t,e){return e},r.__assign(r.__assign({},e),{to:t}))},e.getActionFunction=u,e.initEvent=c,e.isActionObject=function(t){return"object"==typeof t&&"type"in t},e.log=function(t,e){return void 0===t&&(t=g),{type:o.log,label:e,expr:t}},e.pure=function(t){return{type:i.ActionTypes.Pure,get:t}},e.raise=function(t,e){return{type:o.raise,event:"function"==typeof t?t:a.toEventObject(t),delay:e?e.delay:void 0,id:null==e?void 0:e.id}},e.resolveActions=function t(e,n,c,u,h,v,y){void 0===y&&(y=!1);var g=y?[]:x(h),_=g.length?a.updateContext(c,u,g,n):c,S=y?[c]:void 0,w=[];function A(h,g){var x;switch(g.type){case o.raise:var A=d(g,_,u,e.options.delays);return v&&"number"==typeof A.delay&&v(A,_,u),A;case o.send:var E=p(g,_,u,e.options.delays);if(!s.IS_PRODUCTION){var O=g.delay;a.warn(!a.isString(O)||"number"==typeof E.delay,"No delay reference for delay expression '".concat(O,"' was found on machine '").concat(e.id,"'"))}return v&&E.to!==i.SpecialTargets.Internal&&("entry"===h?w.push(E):v(E,_,u)),E;case o.log:var M=m(g,_,u);return null==v||v(M,_,u),M;case o.choose:var T=null===(x=g.conds.find(function(t){var r=a.toGuard(t.cond,e.options.guards);return!r||a.evaluateGuard(e,r,_,u,v?void 0:n)}))||void 0===x?void 0:x.actions;if(!T)return[];var k=r.__read(t(e,n,_,u,[{type:h,actions:l(a.toArray(T),e.options.actions)}],v,y),2),j=k[0];return _=k[1],null==S||S.push(_),j;case o.pure:var T=g.get(_,u.data);if(!T)return[];var N=r.__read(t(e,n,_,u,[{type:h,actions:l(a.toArray(T),e.options.actions)}],v,y),2),C=N[0];return _=N[1],null==S||S.push(_),C;case o.stop:var M=b(g,_,u);return null==v||v(M,c,u),M;case o.assign:_=a.updateContext(_,u,[g],v?void 0:n),null==S||S.push(_);break;default:var P=f(g,e.options.actions),R=P.exec;if(v)v(P,_,u);else if(R&&S){var I=S.length-1;P=r.__assign(r.__assign({},P),{exec:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];R.apply(void 0,r.__spreadArray([S[I]],r.__read(e),!1))}})}return P}}return[a.flatten(h.map(function(t){var e,n,i=[];try{for(var o=r.__values(t.actions),a=o.next();!a.done;a=o.next()){var s=a.value,c=A(t.type,s);c&&(i=i.concat(c))}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return w.forEach(function(t){v(t,_,u)}),w.length=0,i})),_]},e.resolveLog=m,e.resolveRaise=d,e.resolveSend=p,e.resolveStop=b,e.respond=function(t,e){return v(t,r.__assign(r.__assign({},e),{to:function(t,e,n){return n._event.origin}}))},e.send=v,e.sendParent=y,e.sendTo=function(t,e,n){return v(e,r.__assign(r.__assign({},n),{to:t}))},e.sendUpdate=function(){return y(o.update)},e.start=function(t){var e=h(t);return{type:i.ActionTypes.Start,activity:e,exec:void 0}},e.stop=function(t){var e=a.isFunction(t)?t:h(t);return{type:i.ActionTypes.Stop,activity:e,exec:void 0}},e.toActionObject=f,e.toActionObjects=l,e.toActivityDefinition=h},3442:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_GUARD_TYPE="xstate.guard",e.EMPTY_ACTIVITY_MAP={},e.STATE_DELIMITER=".",e.TARGETLESS_KEY=""},78664:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.IS_PRODUCTION=!0},8974:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(57649);n(94309);var i=n(83521);function o(t){if("string"==typeof t){var e={type:t};return e.toString=function(){return t},e}return t}n(60035),n(78664),e.toInvokeDefinition=function(t){return r.__assign(r.__assign({type:i.invoke},t),{toJSON:function(){t.onDone,t.onError;var e=r.__rest(t,["onDone","onError"]);return r.__assign(r.__assign({},e),{type:i.invoke,src:o(t.src)})}})},e.toInvokeSource=o},32292:function(t,e,n){var r=n(57649),i=n(25612),o=n(409),a=n(60035);e.N=function(t,e){var n=null==e?void 0:e.events,s=null==e?void 0:e.actions;return{initialContext:t,assign:i.assign,events:n?a.mapValues(n,function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.__assign(r.__assign({},t.apply(void 0,r.__spreadArray([],r.__read(n),!1))),{type:e})}}):void 0,actions:s?a.mapValues(s,function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.__assign(r.__assign({},t.apply(void 0,r.__spreadArray([],r.__read(n),!1))),{type:e})}}):void 0,reset:function(){return i.assign(t)},createMachine:function(e,n){return o.createMachine("context"in e?e:r.__assign(r.__assign({},e),{context:t}),n)}}}},84743:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=[],r=function(t,e){n.push(t);var r=e(t);return n.pop(),r},i=function(t){return t(n[n.length-1])};e.consume=i,e.provide=r},9108:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(57649),i=n(60035),o=function(t){return"atomic"===t.type||"final"===t.type};function a(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function s(t){return a(t).filter(function(t){return"history"!==t.type})}function c(t){var e=[t];return o(t)?e:e.concat(i.flatten(s(t).map(c)))}function u(t,e){var n,i,o,a,c,u,l,h,d=new Set(t),v=f(d),p=new Set(e);try{for(var y=r.__values(p),g=y.next();!g.done;g=y.next())for(var m=g.value,_=m.parent;_&&!p.has(_);)p.add(_),_=_.parent}catch(b){n={error:b}}finally{try{g&&!g.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}var S=f(p);try{for(var x=r.__values(p),w=x.next();!w.done;w=x.next()){var m=w.value;if("compound"!==m.type||S.get(m)&&S.get(m).length){if("parallel"===m.type)try{for(var A=(c=void 0,r.__values(s(m))),E=A.next();!E.done;E=A.next()){var O=E.value;p.has(O)||(p.add(O),v.get(O)?v.get(O).forEach(function(t){return p.add(t)}):O.initialStateNodes.forEach(function(t){return p.add(t)}))}}catch(M){c={error:M}}finally{try{E&&!E.done&&(u=A.return)&&u.call(A)}finally{if(c)throw c.error}}}else v.get(m)?v.get(m).forEach(function(t){return p.add(t)}):m.initialStateNodes.forEach(function(t){return p.add(t)})}}catch(T){o={error:T}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}try{for(var k=r.__values(p),j=k.next();!j.done;j=k.next())for(var m=j.value,_=m.parent;_&&!p.has(_);)p.add(_),_=_.parent}catch(N){l={error:N}}finally{try{j&&!j.done&&(h=k.return)&&h.call(k)}finally{if(l)throw l.error}}return p}function f(t){var e,n,i=new Map;try{for(var o=r.__values(t),a=o.next();!a.done;a=o.next()){var s=a.value;i.has(s)||i.set(s,[]),s.parent&&(i.has(s.parent)||i.set(s.parent,[]),i.get(s.parent).push(s))}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function l(t,e){return Array.isArray(t)?t.some(function(t){return t===e}):t instanceof Set&&t.has(e)}e.getAdjList=f,e.getAllChildren=a,e.getAllStateNodes=c,e.getChildren=s,e.getConfiguration=u,e.getMeta=function(t){return void 0===t&&(t=[]),t.reduce(function(t,e){return void 0!==e.meta&&(t[e.id]=e.meta),t},{})},e.getTagsFromConfiguration=function(t){return new Set(i.flatten(t.map(function(t){return t.tags})))},e.getValue=function(t,e){var n=u([t],e);return function t(e,n){var r=n.get(e);if(!r)return{};if("compound"===e.type){var i=r[0];if(!i)return{};if(o(i))return i.key}var a={};return r.forEach(function(e){a[e.key]=t(e,n)}),a}(t,f(n))},e.has=l,e.isInFinalState=function t(e,n){return"compound"===n.type?s(n).some(function(t){return"final"===t.type&&l(e,t)}):"parallel"===n.type&&s(n).every(function(n){return t(e,n)})},e.isLeafNode=o,e.nextEvents=function(t){return r.__spreadArray([],r.__read(new Set(i.flatten(r.__spreadArray([],r.__read(t.map(function(t){return t.ownEvents})),!1)))),!1)}},94309:function(t,e){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.ActionTypes=void 0,(n=e.ActionTypes||(e.ActionTypes={})).Start="xstate.start",n.Stop="xstate.stop",n.Raise="xstate.raise",n.Send="xstate.send",n.Cancel="xstate.cancel",n.NullEvent="",n.Assign="xstate.assign",n.After="xstate.after",n.DoneState="done.state",n.DoneInvoke="done.invoke",n.Log="xstate.log",n.Init="xstate.init",n.Invoke="xstate.invoke",n.ErrorExecution="error.execution",n.ErrorCommunication="error.communication",n.ErrorPlatform="error.platform",n.ErrorCustom="xstate.error",n.Update="xstate.update",n.Pure="xstate.pure",n.Choose="xstate.choose",e.SpecialTargets=void 0,(r=e.SpecialTargets||(e.SpecialTargets={})).Parent="#_parent",r.Internal="#_internal"},60035:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(57649),o=n(94309),a=n(83521),s=n(3442),c=n(78664);function u(t,e){try{if(_(t))return t;return t.toString().split(e)}catch(n){throw Error("'".concat(t,"' is not a valid state path."))}}function f(t){return"object"==typeof t&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function l(t,e){return f(t)?t.value:_(t)?h(t):"string"!=typeof t?t:h(u(t,e))}function h(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function d(t,e){for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}var v=function(t){return function(e){var n,r,o=e;try{for(var a=i.__values(t),s=a.next();!s.done;s=a.next())o=o[s.value]}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}};function p(t){var e;return(e=[]).concat.apply(e,i.__spreadArray([],i.__read(t),!1))}function y(t){return _(t)?t:[t]}function g(t){return void 0===t?[]:y(t)}function m(t,e){return d(t.states,function(t,n){if(t){var r=(S(e)?void 0:e[n])||(t?t.current:void 0);if(r)return{current:r,states:m(t,r)}}})}function _(t){return Array.isArray(t)}function b(t){return"function"==typeof t}function S(t){return"string"==typeof t}e.warn=function(){},c.IS_PRODUCTION||(e.warn=function(t,e){var n=t instanceof Error?t:void 0;if((n||!t)&&void 0!==console){var r=["Warning: ".concat(e)];n&&r.push(n),console.warn.apply(console,r)}});var x="function"==typeof Symbol&&Symbol.observable||"@@observable",w=((r={})[x]=function(){return this},r[Symbol.observable]=function(){return this},r);function A(t){return!!t&&"__xstatenode"in t}var E,O=(E=0,function(){return E++,E.toString(16)});function M(t,e){return S(t)||"number"==typeof t?i.__assign({type:t},e):t}e.createInvokeId=function(t,e){return"".concat(t,":invocation[").concat(e,"]")},e.evaluateGuard=function(t,e,n,r,i){var o=t.options.guards,a={state:i,cond:e,_event:r};if(e.type===s.DEFAULT_GUARD_TYPE)return((null==o?void 0:o[e.name])||e.predicate)(n,r.data,a);var c=null==o?void 0:o[e.type];if(!c)throw Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return c(n,r.data,a)},e.flatten=p,e.getActionType=function(t){try{return S(t)||"number"==typeof t?"".concat(t):b(t)?t.name:t.type}catch(e){throw Error("Actions must be strings or objects with a string action.type property.")}},e.getEventType=function(t){try{return S(t)||"number"==typeof t?"".concat(t):t.type}catch(e){throw Error("Events must be strings or objects with a string event.type property.")}},e.interopSymbols=w,e.isActor=function(t){return!!t&&"function"==typeof t.send},e.isArray=_,e.isBehavior=function(t){return null!==t&&"object"==typeof t&&"transition"in t&&"function"==typeof t.transition},e.isBuiltInEvent=function(t){return/^(done|error)\./.test(t)},e.isFunction=b,e.isMachine=A,e.isObservable=function(t){try{return"subscribe"in t&&b(t.subscribe)}catch(e){return!1}},e.isPromiseLike=function(t){return!!(t instanceof Promise||null!==t&&(b(t)||"object"==typeof t)&&b(t.then))},e.isRaisableAction=function(t){return(t.type===a.raise||t.type===a.send&&t.to===o.SpecialTargets.Internal)&&"number"!=typeof t.delay},e.isStateLike=f,e.isString=S,e.keys=function(t){return Object.keys(t)},e.mapContext=function(t,e,n){if(b(t))return t(e,n.data);var r,o,a={};try{for(var s=i.__values(Object.keys(t)),c=s.next();!c.done;c=s.next()){var u=c.value,f=t[u];b(f)?a[u]=f(e,n.data):a[u]=f}}catch(l){r={error:l}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},e.mapFilterValues=function(t,e,n){var r,o,a={};try{for(var s=i.__values(Object.keys(t)),c=s.next();!c.done;c=s.next()){var u=c.value,f=t[u];n(f)&&(a[u]=e(f,u,t))}}catch(l){r={error:l}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},e.mapValues=d,e.matchesState=function t(e,n,r){void 0===r&&(r=s.STATE_DELIMITER);var i=l(e,r),o=l(n,r);return S(o)?!!S(i)&&o===i:S(i)?i in o:Object.keys(i).every(function(e){return e in o&&t(i[e],o[e])})},e.nestedPath=function(t,e){return function(n){var r,o,a=n;try{for(var s=i.__values(t),c=s.next();!c.done;c=s.next()){var u=c.value;a=a[e][u]}}catch(f){r={error:f}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}},e.normalizeTarget=function(t){if(void 0!==t&&t!==s.TARGETLESS_KEY)return g(t)},e.partition=function(t,e){var n,r,o=i.__read([[],[]],2),a=o[0],s=o[1];try{for(var c=i.__values(t),u=c.next();!u.done;u=c.next()){var f=u.value;e(f)?a.push(f):s.push(f)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return[a,s]},e.path=v,e.pathToStateValue=h,e.pathsToStateValue=function(t){var e,n,r={};if(t&&1===t.length&&1===t[0].length)return t[0][0];try{for(var o=i.__values(t),a=o.next();!a.done;a=o.next())for(var s=a.value,c=r,u=0;u<s.length;u++){var f=s[u];if(u===s.length-2){c[f]=s[u+1];break}c[f]=c[f]||{},c=c[f]}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},e.reportUnhandledExceptionOnInvocation=function(t,e,n){if(!c.IS_PRODUCTION){var r=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";if(t===e)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(t,"'.").concat(r));else{var i=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(t,"'. ").concat(r," Current error is '").concat(e,"'.").concat(i))}}},e.symbolObservable=x,e.toArray=g,e.toArrayStrict=y,e.toEventObject=M,e.toGuard=function(t,e){return t?S(t)?{type:s.DEFAULT_GUARD_TYPE,name:t,predicate:e?e[t]:void 0}:b(t)?{type:s.DEFAULT_GUARD_TYPE,name:t.name,predicate:t}:t:void 0},e.toInvokeSource=function(t){return"string"==typeof t?{type:t}:t},e.toObserver=function(t,e,n){var r=function(){},i="object"==typeof t,o=i?t:null;return{next:((i?t.next:t)||r).bind(o),error:((i?t.error:e)||r).bind(o),complete:((i?t.complete:n)||r).bind(o)}},e.toSCXMLEvent=function(t,e){if(!S(t)&&"$$type"in t&&"scxml"===t.$$type)return t;var n=M(t);return i.__assign({name:n.type,data:n,$$type:"scxml",type:"external"},e)},e.toStatePath=u,e.toStatePaths=function t(e){return e?S(e)?[[e]]:p(Object.keys(e).map(function(n){var r=e[n];return"string"==typeof r||r&&Object.keys(r).length?t(e[n]).map(function(t){return[n].concat(t)}):[[n]]})):[[]]},e.toStateValue=l,e.toTransitionConfigArray=function(t,e){return y(e).map(function(e){return void 0===e||"string"==typeof e||A(e)?{target:e,event:t}:i.__assign(i.__assign({},e),{event:t})})},e.uniqueId=O,e.updateContext=function(t,n,r,o){return c.IS_PRODUCTION||e.warn(!!t,"Attempting to update undefined context"),t?r.reduce(function(t,e){var r,a,s=e.assignment,c={state:o,action:e,_event:n},u={};if(b(s))u=s(t,n.data,c);else try{for(var f=i.__values(Object.keys(s)),l=f.next();!l.done;l=f.next()){var h=l.value,d=s[h];u[h]=b(d)?d(t,n.data,c):d}}catch(v){r={error:v}}finally{try{l&&!l.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return Object.assign({},t,u)},t):t},e.updateHistoryStates=m,e.updateHistoryValue=function(t,e){return{current:e,states:m(t,e)}}},99629:function(t,e){function n(t){let e=0,n=0,r=t;do e+=r.offsetTop||0,n+=r.offsetLeft||0,r=r.offsetParent;while(r);return{top:e,left:n}}class r{constructor(t){this.element=t}getHorizontalScroll(){return this.element.scrollLeft}getVerticalScroll(){return this.element.scrollTop}getMaxHorizontalScroll(){return this.element.scrollWidth-this.element.clientWidth}getMaxVerticalScroll(){return this.element.scrollHeight-this.element.clientHeight}getHorizontalElementScrollOffset(t,e){return n(t).left-n(e).left}getVerticalElementScrollOffset(t,e){return n(t).top-n(e).top}scrollTo(t,e){this.element.scrollLeft=t,this.element.scrollTop=e}}class i{constructor(){this.element=window}getHorizontalScroll(){return window.scrollX||document.documentElement.scrollLeft}getVerticalScroll(){return window.scrollY||document.documentElement.scrollTop}getMaxHorizontalScroll(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)-window.innerWidth}getMaxVerticalScroll(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight}getHorizontalElementScrollOffset(t){let e=window.scrollX||document.documentElement.scrollLeft;return e+t.getBoundingClientRect().left}getVerticalElementScrollOffset(t){let e=window.scrollY||document.documentElement.scrollTop;return e+t.getBoundingClientRect().top}scrollTo(t,e){window.scrollTo(t,e)}}let o={elements:[],cancelMethods:[],add(t,e){o.elements.push(t),o.cancelMethods.push(e)},remove(t,e){let n=o.elements.indexOf(t);n>-1&&(e&&o.cancelMethods[n](),o.elements.splice(n,1),o.cancelMethods.splice(n,1))}},a="undefined"!=typeof window,s={cancelOnUserAction:!0,easing:t=>--t*t*t+1,elementToScroll:a?window:null,horizontalOffset:0,maxDuration:3e3,minDuration:250,speed:500,verticalOffset:0};e.Z=function(t){var e,n,c,u;return e=this,n=arguments,c=void 0,u=function*(t,e={}){if(!a)return new Promise(t=>{t(!1)});if(!window.Promise)throw"Browser doesn't support Promises, and animated-scroll-to depends on it, please provide a polyfill.";let n,c,u,f=Object.assign(Object.assign({},s),e),l=f.elementToScroll===window,h=!!f.elementToScroll.nodeName;if(!l&&!h)throw"Element to scroll needs to be either window or DOM element.";let d=l?document.documentElement:f.elementToScroll,v=getComputedStyle(d);[{property:"scroll-behavior",value:"smooth"},{property:"scroll-snap-type",value:"mandatory"},].forEach(({property:t,value:e})=>{let n=v.getPropertyValue(t);n.includes(e)&&console.warn(`${d.tagName} has "${t}: ${n}" which can break animated-scroll-to's animations`)});let p=l?new i:new r(f.elementToScroll);if(t instanceof Element){if(u=t,h&&(!f.elementToScroll.contains(u)||f.elementToScroll.isSameNode(u)))throw"options.elementToScroll has to be a parent of scrollToElement";n=p.getHorizontalElementScrollOffset(u,f.elementToScroll),c=p.getVerticalElementScrollOffset(u,f.elementToScroll)}else if("number"==typeof t)n=p.getHorizontalScroll(),c=t;else if(Array.isArray(t)&&2===t.length)n=null===t[0]?p.getHorizontalScroll():t[0],c=null===t[1]?p.getVerticalScroll():t[1];else throw"Wrong function signature. Check documentation.\nAvailable method signatures are:\n  animateScrollTo(y:number, options)\n  animateScrollTo([x:number | null, y:number | null], options)\n  animateScrollTo(scrollToElement:Element, options)";n+=f.horizontalOffset,c+=f.verticalOffset;let y=p.getMaxHorizontalScroll(),g=p.getHorizontalScroll();n>y&&(n=y);let m=n-g,_=p.getMaxVerticalScroll(),b=p.getVerticalScroll();c>_&&(c=_);let S=c-b,x=Math.abs(Math.round(m/1e3*f.speed)),w=Math.abs(Math.round(S/1e3*f.speed)),A=x>w?x:w;return A<f.minDuration?A=f.minDuration:A>f.maxDuration&&(A=f.maxDuration),new Promise((t,e)=>{0===m&&0===S&&t(!0),o.remove(p.element,!0);let r,i=()=>{h(),cancelAnimationFrame(r),t(!1)};o.add(p.element,i);let a=t=>t.preventDefault(),s=f.cancelOnUserAction?i:a,u=f.cancelOnUserAction?{passive:!0}:{passive:!1},l=["wheel","touchstart","keydown","mousedown"],h=()=>{l.forEach(t=>{p.element.removeEventListener(t,s,u)})};l.forEach(t=>{p.element.addEventListener(t,s,u)});let d=Date.now(),v=()=>{var e=Date.now()-d,i=e/A;let a=Math.round(g+m*f.easing(i)),s=Math.round(b+S*f.easing(i));e<A&&(a!==n||s!==c)?(p.scrollTo(a,s),r=requestAnimationFrame(v)):(p.scrollTo(n,c),cancelAnimationFrame(r),h(),o.remove(p.element,!1),t(!0))};r=requestAnimationFrame(v)})},new(c||(c=Promise))(function(t,r){function i(t){try{a(u.next(t))}catch(e){r(e)}}function o(t){try{a(u.throw(t))}catch(e){r(e)}}function a(e){var n;e.done?t(e.value):((n=e.value)instanceof c?n:new c(function(t){t(n)})).then(i,o)}a((u=u.apply(e,n||[])).next())})}},87459:function(t,e,n){var r=n(62411),i=n(93221),o=(0,r.Z)(i.Z,"Set");e.Z=o},73528:function(t,e,n){n.d(e,{Z:function(){return l}});var r=n(90463),i=n(66133),o=n(40704),a=n(11749),s=n(87459),c=n(22168),u=n(63249),f=s.Z&&1/(0,u.Z)(new s.Z([,-0]))[1]==1/0?function(t){return new s.Z(t)}:c.Z,l=function(t,e,n){var s=-1,c=i.Z,l=t.length,h=!0,d=[],v=d;if(n)h=!1,c=o.Z;else if(l>=200){var p=e?null:f(t);if(p)return(0,u.Z)(p);h=!1,c=a.Z,v=new r.Z}else v=e?[]:d;outer:for(;++s<l;){var y=t[s],g=e?e(y):y;if(y=n||0!==y?y:0,h&&g==g){for(var m=v.length;m--;)if(v[m]===g)continue outer;e&&v.push(g),d.push(y)}else c(v,g,n)||(v!==d&&v.push(g),d.push(y))}return d}},63249:function(t,e){e.Z=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},66520:function(t,e,n){n.d(e,{Z:function(){return m}});var r=n(93122),i=n(93221),o=function(){return i.Z.Date.now()},a=/\s/,s=function(t){for(var e=t.length;e--&&a.test(t.charAt(e)););return e},c=/^\s+/,u=n(22758),f=0/0,l=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,d=/^0o[0-7]+$/i,v=parseInt,p=function(t){if("number"==typeof t)return t;if((0,u.Z)(t))return f;if((0,r.Z)(t)){var e,n="function"==typeof t.valueOf?t.valueOf():t;t=(0,r.Z)(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=(e=t)?e.slice(0,s(e)+1).replace(c,""):e;var i=h.test(t);return i||d.test(t)?v(t.slice(2),i?2:8):l.test(t)?f:+t},y=Math.max,g=Math.min,m=function(t,e,n){var i,a,s,c,u,f,l=0,h=!1,d=!1,v=!0;if("function"!=typeof t)throw TypeError("Expected a function");function m(e){var n=i,r=a;return i=a=void 0,l=e,c=t.apply(r,n)}function _(t){var n=t-f,r=t-l;return void 0===f||n>=e||n<0||d&&r>=s}function b(){var t,n,r,i,a=o();if(_(a))return S(a);u=setTimeout(b,(n=a-f,r=a-l,i=e-n,d?g(i,s-r):i))}function S(t){return(u=void 0,v&&i)?m(t):(i=a=void 0,c)}function x(){var t,n=o(),r=_(n);if(i=arguments,a=this,f=n,r){if(void 0===u)return l=t=f,u=setTimeout(b,e),h?m(t):c;if(d)return clearTimeout(u),u=setTimeout(b,e),m(f)}return void 0===u&&(u=setTimeout(b,e)),c}return e=p(e)||0,(0,r.Z)(n)&&(h=!!n.leading,s=(d="maxWait"in n)?y(p(n.maxWait)||0,e):s,v="trailing"in n?!!n.trailing:v),x.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=f=a=u=void 0},x.flush=function(){return void 0===u?c:S(o())},x}},88744:function(t,e,n){var r=n(66520),i=n(93122);e.Z=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw TypeError("Expected a function");return(0,i.Z)(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),(0,r.Z)(t,e,{leading:o,maxWait:e,trailing:a})}},57633:function(t,e,n){var r=n(73528);e.Z=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?(0,r.Z)(t,void 0,e):[]}},70241:function(t,e,n){n.d(e,{Q9:function(){return f},QD:function(){return u}});var r,i=((r=i||{}).Tag="Tag",r.NthChild="NthChild",r.Id="ID",r.Class="Class",r.Attributes="Attributes",r.AHref="AHref",r);function o(t){return t.nodeType===Node.DOCUMENT_NODE}function a(t){return t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function s(t){return t.nodeType===Node.ELEMENT_NODE&&"shadowRoot"in t&&null!==t.shadowRoot}function c(t){return"IFRAME"===t.nodeName}function u(t,e){let n=t.split(/\$IFRAME\$|\$SHADOW\$/gm);if(!n.length)return null;let r=e,i=null;for(let u of n){if(o(r)||a(r)?i=r.querySelector(u):c(r)&&r.contentDocument?i=r.contentDocument.querySelector(u):s(r)&&(i=r.shadowRoot.querySelector(u)),!i)return null;r=i}return i}function f(t){let e=t.split(/\$IFRAME\$/gm);return e[e.length-1]}},1547:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return a}});var i=/^\s+/,o=/\s+$/;function a(t,e){if(t=t||"",e=e||{},t instanceof a)return t;if(!(this instanceof a))return new a(t,e);var n,s,c,u,f,l,h,d,v,p,y,g,m,_,b,S,x,A,M,k,N,P,R,I=(n=t,s={r:0,g:0,b:0},c=1,u=null,f=null,l=null,h=!1,d=!1,"string"==typeof n&&(n=function(t){t=t.replace(i,"").replace(o,"").toLowerCase();var e,n=!1;if(w[t])t=w[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=L.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=L.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=L.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=L.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=L.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=L.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=L.hex8.exec(t))?{r:T(e[1]),g:T(e[2]),b:T(e[3]),a:C(e[4]),format:n?"name":"hex8"}:(e=L.hex6.exec(t))?{r:T(e[1]),g:T(e[2]),b:T(e[3]),format:n?"name":"hex"}:(e=L.hex4.exec(t))?{r:T(e[1]+""+e[1]),g:T(e[2]+""+e[2]),b:T(e[3]+""+e[3]),a:C(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=L.hex3.exec(t))&&{r:T(e[1]+""+e[1]),g:T(e[2]+""+e[2]),b:T(e[3]+""+e[3]),format:n?"name":"hex"}}(n)),"object"==r(n)&&(D(n.r)&&D(n.g)&&D(n.b)?(v=n.r,p=n.g,y=n.b,s={r:255*O(v,255),g:255*O(p,255),b:255*O(y,255)},h=!0,d="%"===String(n.r).substr(-1)?"prgb":"rgb"):D(n.h)&&D(n.s)&&D(n.v)?(u=j(n.s),f=j(n.v),g=n.h,m=u,_=f,g=6*O(g,360),m=O(m,100),_=O(_,100),b=Math.floor(g),S=g-b,x=_*(1-m),A=_*(1-S*m),M=_*(1-(1-S)*m),N=[_,A,x,x,M,_][k=b%6],P=[M,_,_,A,x,x][k],s={r:255*N,g:255*P,b:255*(R=[x,x,M,_,_,A][k])},h=!0,d="hsv"):D(n.h)&&D(n.s)&&D(n.l)&&(u=j(n.s),l=j(n.l),s=function(t,e,n){var r,i,o;function a(t,e,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?t+(e-t)*6*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=O(t,360),e=O(e,100),n=O(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;r=a(c,s,t+1/3),i=a(c,s,t),o=a(c,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(n.h,u,l),h=!0,d="hsl"),n.hasOwnProperty("a")&&(c=n.a)),c=E(c),{ok:h,format:n.format||d,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:c});this._originalInput=t,this._r=I.r,this._g=I.g,this._b=I.b,this._a=I.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||I.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=I.ok}function s(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var c=o-a;switch(i=s>.5?c/(2-o-a):c/(o+a),o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4}r/=6}return{h:r,s:i,l:s}}function c(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=o-a;if(i=0===o?0:s/o,o==a)r=0;else{switch(o){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:i,v:o}}function u(t,e,n,r){var i=[k(Math.round(t).toString(16)),k(Math.round(e).toString(16)),k(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f(t,e,n,r){return[k(N(r)),k(Math.round(t).toString(16)),k(Math.round(e).toString(16)),k(Math.round(n).toString(16))].join("")}function l(t,e){e=0===e?0:e||10;var n=a(t).toHsl();return n.s-=e/100,n.s=M(n.s),a(n)}function h(t,e){e=0===e?0:e||10;var n=a(t).toHsl();return n.s+=e/100,n.s=M(n.s),a(n)}function d(t){return a(t).desaturate(100)}function v(t,e){e=0===e?0:e||10;var n=a(t).toHsl();return n.l+=e/100,n.l=M(n.l),a(n)}function p(t,e){e=0===e?0:e||10;var n=a(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-(255*(e/100))))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-(255*(e/100))))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-(255*(e/100))))),a(n)}function y(t,e){e=0===e?0:e||10;var n=a(t).toHsl();return n.l-=e/100,n.l=M(n.l),a(n)}function g(t,e){var n=a(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,a(n)}function m(t){var e=a(t).toHsl();return e.h=(e.h+180)%360,a(e)}function _(t,e){if(isNaN(e)||e<=0)throw Error("Argument to polyad must be a positive number");for(var n=a(t).toHsl(),r=[a(t)],i=360/e,o=1;o<e;o++)r.push(a({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function b(t){var e=a(t).toHsl(),n=e.h;return[a(t),a({h:(n+72)%360,s:e.s,l:e.l}),a({h:(n+216)%360,s:e.s,l:e.l})]}function S(t,e,n){e=e||6,n=n||30;var r=a(t).toHsl(),i=360/n,o=[a(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(a(r));return o}function x(t,e){e=e||6;for(var n=a(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],c=1/e;e--;)s.push(a({h:r,s:i,v:o})),o=(o+c)%1;return s}a.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,i,o=this.toRgb();return t=o.r/255,e=o.g/255,n=o.b/255,r=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),.2126*r+.7152*(i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=E(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=c(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s(this._r,this._g,this._b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return u(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){var e,n,r,i,o,a;return e=this._r,n=this._g,r=this._b,i=this._a,o=t,a=[k(Math.round(e).toString(16)),k(Math.round(n).toString(16)),k(Math.round(r).toString(16)),k(N(i))],o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*O(this._r,255))+"%",g:Math.round(100*O(this._g,255))+"%",b:Math.round(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*O(this._r,255))+"%, "+Math.round(100*O(this._g,255))+"%, "+Math.round(100*O(this._b,255))+"%)":"rgba("+Math.round(100*O(this._r,255))+"%, "+Math.round(100*O(this._g,255))+"%, "+Math.round(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&!!A[u(this._r,this._g,this._b,!0)]},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=a(t);n="#"+f(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(_,[3])},tetrad:function(){return this._applyCombination(_,[4])}},a.fromRatio=function(t,e){if("object"==r(t)){var n={};for(var i in t)t.hasOwnProperty(i)&&("a"===i?n[i]=t[i]:n[i]=j(t[i]));t=n}return a(t,e)},a.equals=function(t,e){return!!t&&!!e&&a(t).toRgbString()==a(e).toRgbString()},a.random=function(){return a.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},a.mix=function(t,e,n){n=0===n?0:n||50;var r=a(t).toRgb(),i=a(e).toRgb(),o=n/100;return a({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},a.readability=function(t,e){var n=a(t),r=a(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},a.isReadable=function(t,e,n){var r,i,o,s,c,u=a.readability(t,e);switch(i=!1,(r=(s=((o=(o=n)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),c=(o.size||"small").toLowerCase(),"AA"!==s&&"AAA"!==s&&(s="AA"),"small"!==c&&"large"!==c&&(c="small"),{level:s,size:c})).level+r.size){case"AAsmall":case"AAAlarge":i=u>=4.5;break;case"AAlarge":i=u>=3;break;case"AAAsmall":i=u>=7}return i},a.mostReadable=function(t,e,n){var r,i,o,s,c=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var f=0;f<e.length;f++)(r=a.readability(t,e[f]))>u&&(u=r,c=a(e[f]));return a.isReadable(t,c,{level:o,size:s})||!i?c:(n.includeFallbackColors=!1,a.mostReadable(t,["#fff","#000"],n))};var w=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=a.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(w);function E(t){return(isNaN(t=parseFloat(t))||t<0||t>1)&&(t=1),t}function O(t,e){n=t,"string"==typeof n&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(t="100%");var n,r,i=(r=t,"string"==typeof r&&-1!=r.indexOf("%"));return(t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),1e-6>Math.abs(t-e))?1:t%e/parseFloat(e)}function M(t){return Math.min(1,Math.max(0,t))}function T(t){return parseInt(t,16)}function k(t){return 1==t.length?"0"+t:""+t}function j(t){return t<=1&&(t=100*t+"%"),t}function N(t){return Math.round(255*parseFloat(t)).toString(16)}function C(t){return T(t)/255}var P,R,I,L=(R="[\\s|\\(]+("+(P="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",I="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",{CSS_UNIT:RegExp(P),rgb:RegExp("rgb"+R),rgba:RegExp("rgba"+I),hsl:RegExp("hsl"+R),hsla:RegExp("hsla"+I),hsv:RegExp("hsv"+R),hsva:RegExp("hsva"+I),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function D(t){return!!L.CSS_UNIT.exec(t)}}}]);